import{y,r as l,z as i,j as a}from"./index-D0CpDmcp.js";import{A as M}from"./apiConstants-ChAepINk.js";import{n as T}from"./Utils-DY8x-pVc.js";import{I as S,a as L}from"./icon-favorites-By7CQyrm.js";import{i as j}from"./icon-dd-invoice-CeZrjsyt.js";import{G as d}from"./Grid2-B3gzDQ3y.js";import{B as z}from"./Box-YfWKO8y5.js";import{C as A}from"./CardContent-B3dzlDvA.js";import{T as g}from"./Typography-CxjCbjeZ.js";const B="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%233dd9eb'%20d='M11,18c-3.313,0-6,2.686-6,6c0,3.313,2.687,6,6,6c3.314,0,6-2.687,6-6C17,20.687,14.314,18,11,18'/%3e%3cpath%20fill='%233dd9eb'%20d='M37,5c-3.313,0-6,2.687-6,6c0,3.313,2.687,6,6,6c3.314,0,6-2.687,6-6C43,7.687,40.314,5,37,5'/%3e%3cpath%20fill='%233dd9eb'%20d='M37,31c-3.313,0-6,2.686-6,6c0,3.313,2.687,6,6,6c3.314,0,6-2.687,6-6C43,33.687,40.314,31,37,31'/%3e%3cpath%20fill='%236c19ff'%20d='M31.819,14.028L25.073,22h-8.415C16.88,22.626,17,23.299,17,24c0,0.701-0.12,1.374-0.341,2h8.414%20l6.746,7.973c0.688-1.175,1.765-2.095,3.053-2.584L28.62,24l6.251-7.389C33.583,16.123,32.507,15.202,31.819,14.028'/%3e%3cpath%20fill='%2300b3d7'%20d='M16.658,22H11v4h5.659C16.88,25.375,17,24.701,17,24C17,23.299,16.88,22.626,16.658,22'/%3e%3cpath%20fill='%2300b3d7'%20d='M35.474,9.708l-3.655,4.32c0.688,1.175,1.764,2.095,3.053,2.584l3.655-4.319L35.474,9.708'/%3e%3cpath%20fill='%2300b3d7'%20d='M34.872,31.389c-1.288,0.489-2.365,1.409-3.053,2.584l3.655,4.319l3.053-2.584L34.872,31.389'/%3e%3c/svg%3e",I="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23ddbaff'%20d='M24,44L24,44c-8.216,0-15.137-6.14-16.116-14.297l-0.797-4.639C5.871,14.924,13.788,6,24,6h0%20c10.212,0,18.129,8.924,16.912,19.063l-0.797,4.639C39.137,37.86,32.216,44,24,44z'/%3e%3cpath%20fill='%236c19ff'%20d='M37.701,10.916c-0.825-1.117-1.787-2.133-2.858-3.017C31.912,5.474,28.145,4.003,24,4.003%20c-4.145,0-7.912,1.471-10.844,3.895c-0.554,0.458-1.084,0.951-1.58,1.485c-3.115,3.323-4.903,7.879-4.573,12.777%20c3.362-1.449,5.88-4.482,6.615-8.158h20.764c0.735,3.677,3.253,6.709,6.615,8.158C41.278,17.982,40.019,14.053,37.701,10.916z'/%3e%3cpath%20fill='%23ddbaff'%20d='M40,31H8c-1.657,0-3-1.343-3-3s1.343-3,3-3h32c1.657,0,3,1.343,3,3S41.657,31,40,31z'/%3e%3cpath%20fill='%232100c4'%20d='M37.701,13.913c-0.825-1.117-1.787-2.133-2.858-3.017C31.912,8.471,28.145,7,24,7%20c-4.145,0-7.912,1.471-10.844,3.895c-0.554,0.458-1.084,0.951-1.58,1.485c-3.115,3.323-4.903,7.879-4.573,12.777%20c3.362-1.449,5.88-4.482,6.615-8.158h20.764c0.735,3.677,3.253,6.709,6.615,8.158C41.278,20.979,40.019,17.05,37.701,13.913z'/%3e%3c/svg%3e",P="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%233dd9eb'%20d='M43,36H13V11h22c4.418,0,8,3.582,8,8V36z'/%3e%3cpath%20fill='%237debf5'%20d='M21,36H5V19c0-4.418,3.582-8,8-8l0,0c4.418,0,8,3.582,8,8V36z'/%3e%3cpath%20fill='%236c19ff'%20d='M21,36h5v8h-5V36z'/%3e%3cpolygon%20fill='%23eb0000'%20points='27,16%2027,20%2035,20%2035,24%2039,24%2039,16'/%3e%3crect%20width='8'%20height='3'%20x='9'%20y='20'%20fill='%233dd9eb'/%3e%3c/svg%3e",c=M.apiUrl,s=[{icon:I,title:"Partners",digits:"0",bgcolor:"primary"},{icon:S,title:"Agents",digits:"0",bgcolor:"warning"},{icon:P,title:"Total Deposits",digits:"0",bgcolor:"success"},{icon:L,title:"Total Base Price",digits:"0",bgcolor:"warning"},{icon:j,title:"Available Balance",digits:"0",bgcolor:"error"},{icon:B,title:"Inv Summary",digits:"0",bgcolor:"info"}],K=()=>{const h=y(),[U,p]=l.useState(""),[V,m]=l.useState(""),[H,f]=l.useState(""),[N,v]=l.useState(0),[D,b]=l.useState(0);l.useEffect(()=>{const e=localStorage.getItem("data_success_login");if(e){const t=JSON.parse(e);console.log("user_name:",t.user_name),console.log("session_name:",t.session_name),console.log("session_level:",t.session_level),console.log("last_login_time:",t.last_login_time),console.log("blocked:",t.blocked),p(t.user_name),m(t.session_level),f(t.session_name),t.session_level.toLowerCase()==="partner"?(t.session_name.split("-")[0],n(t.session_name)):t.session_level.toLowerCase()==="agent-manager"||t.session_level.toLowerCase()==="agent-admin"||(_(),n("1"),x(),w(),C(),u())}else h("/auth/login")},[]);const _=async()=>{let e=c+"dashboard/total/partner";i.get(e).then(t=>{const o=t.data[0];v(o.total_partner),s[0].digits=o.total_partner}).catch(t=>{console.log(t)})},n=async e=>{let t=c+"dashboard/total/agent/"+e;i.get(t).then(o=>{const r=o.data[0];b(r.total_agent),s[1].digits=r.total_agent}).catch(o=>{console.log(o)})},x=async()=>{let e=c+"dashboard/total/deposit";i.get(e).then(t=>{const o=t.data[0];s[2].digits=o.total_deposit}).catch(t=>{console.log(t)})},w=async()=>{let e=c+"dashboard/total/baseprice";i.get(e).then(t=>{const o=t.data[0];s[3].digits=o.total}).catch(t=>{console.log(t)})},u=async()=>{let e=c+"dashboard/total/inventory";i.get(e).then(t=>{const o=t.data[0];s[5].digits=o.total_inventory}).catch(t=>{console.log(t)})},C=async()=>{const e=parseInt(s[2].digits)-parseInt(s[3].digits);s[4].digits=e.toString()};return a.jsx(d,{container:!0,spacing:3,children:s.map((e,t)=>a.jsx(d,{size:{xs:12,sm:4,lg:2},children:a.jsx(z,{bgcolor:e.bgcolor+".light",textAlign:"center",children:a.jsxs(A,{children:[a.jsx("img",{src:e.icon,alt:e.icon,width:"50"}),a.jsx(g,{color:e.bgcolor+".main",mt:1,variant:"subtitle1",fontWeight:600,children:e.title}),a.jsx(g,{color:e.bgcolor+".main",variant:"h4",fontWeight:600,children:T(e.digits)})]})})},t))})};export{K as T};

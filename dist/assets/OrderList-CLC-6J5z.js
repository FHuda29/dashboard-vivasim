import{y as U,r as x,z as P,j as e}from"./index-D0CpDmcp.js";import{P as G}from"./PageContainer-GyGJwSoy.js";import{B as J}from"./Breadcrumb-BVcp9-n_.js";import{P as Y}from"./ParentCard-Dds6eSz-.js";import{B as q}from"./BlankCard-C5pX7qij.js";import{C as T}from"./CustomSelect-CExbCVLD.js";import{C as f}from"./CustomTextField-Cjc4ANgr.js";import{T as V,L as O,F as k,K as L}from"./LastPage-CM86qExL.js";import{K as D}from"./KeyboardArrowRight-Bwz3qybY.js";import{f as w,n as A}from"./Utils-DY8x-pVc.js";import{A as Q}from"./apiConstants-ChAepINk.js";import{B as N}from"./Box-YfWKO8y5.js";import{G as a}from"./Grid2-B3gzDQ3y.js";import{T as r}from"./Typography-CxjCbjeZ.js";import{M as o}from"./MenuItem-CuGaY2Hq.js";import{B as X}from"./Button-CgUWpLWI.js";import{T as Z}from"./TableContainer-DwViaeU_.js";import{T as $,a as ee,b as _,c as s,d as te}from"./TableRow-BZxns5TQ.js";import{T as R}from"./Tooltip-BtHUzaXN.js";import{I as m}from"./IconButton-BxWHF3Dm.js";import{I as re}from"./IconEye-SEDeo8TE.js";import{c as se}from"./createReactComponent-3iThfHP-.js";import{C as ie}from"./Chip-C2vBKMax.js";import{T as ne}from"./TablePagination-_GCCBNyA.js";import{u as oe}from"./Paper-DYTAYSZ1.js";import"./useSlotProps-BSM9QyQs.js";import"./Link-Bnmvu_Gi.js";import"./IconCircle-D7zSMm9k.js";import"./Card-CBAn0QXF.js";import"./CardHeader-BR6S_Hd-.js";import"./useSlot-CFWOFHMb.js";import"./Divider-cwsqb4Sr.js";import"./dividerClasses-Cmg2xQcr.js";import"./CardContent-B3dzlDvA.js";import"./Select-DUwfbIlc.js";import"./Menu-TWYswZS4.js";import"./Popover-BjLg-pXP.js";import"./isHostComponent-DVu5iVWx.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Grow-CRn5r_sP.js";import"./utils-knGZQcB_.js";import"./getReactElementRef-BjzLCeGl.js";import"./mergeSlotProps-EoW_Nak3.js";import"./Modal-BGPPYg_F.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Portal-B-3ZW63z.js";import"./List-D2v3D0a6.js";import"./utils-iop7lDec.js";import"./useControlled-DdQeg7Rb.js";import"./useId-BnzzJGZL.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CdybHpQR.js";import"./TextField-BL7FkBIN.js";import"./FormControl-Ds0TTNG5.js";import"./createSvgIcon-DvMzRnlg.js";import"./index-BPskgXx8.js";import"./index-DT2YvziZ.js";import"./listItemTextClasses-IyJ_HmtO.js";import"./CircularProgress-DwEGvCDN.js";import"./Popper-BuGE3Q_O.js";import"./KeyboardArrowRight-DiTjW17E.js";import"./LastPage-CYB3mln0.js";import"./Toolbar-C5Hj9sbR.js";var ae=se("history","IconHistory",[["path",{d:"M12 8l0 4l2 2",key:"svg-0"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5",key:"svg-1"}]]);const W=Q.apiUrl;function le(j){const u=oe(),{count:p,page:c,rowsPerPage:g,onPageChange:d}=j,C=n=>{d(n,0)},y=n=>{d(n,c-1)},S=n=>{d(n,c+1)},v=n=>{d(n,Math.max(0,Math.ceil(p/g)-1))};return e.jsxs(N,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(m,{onClick:C,disabled:c===0,"aria-label":"first page",children:u.direction==="rtl"?e.jsx(O,{}):e.jsx(k,{})}),e.jsx(m,{onClick:y,disabled:c===0,"aria-label":"previous page",children:u.direction==="rtl"?e.jsx(D,{}):e.jsx(L,{})}),e.jsx(m,{onClick:S,disabled:c>=Math.ceil(p/g)-1,"aria-label":"next page",children:u.direction==="rtl"?e.jsx(L,{}):e.jsx(D,{})}),e.jsx(m,{onClick:v,disabled:c>=Math.ceil(p/g)-1,"aria-label":"last page",children:u.direction==="rtl"?e.jsx(k,{}):e.jsx(O,{})})]})}const ce=[{to:"/",title:"Home"},{title:"Order"}],_t=()=>{const j=U(),[u,p]=x.useState(""),[c,g]=x.useState("");x.useEffect(()=>{const t=localStorage.getItem("data_success_login");if(t){const i=JSON.parse(t);if(console.log("user_name:",i.user_name),console.log("session_name:",i.session_name),console.log("session_level:",i.session_level),console.log("last_login_time:",i.last_login_time),console.log("blocked:",i.blocked),p(i.session_level),g(i.session_name),i.session_level.toLowerCase()==="partner"){const l=i.session_name.split("-")[0];y(l)}else i.session_level.toLowerCase()==="agent-manager"?d(i.session_name):C()}else j("/auth/login")},[]);const d=async t=>{let i=W+"orders/agent/"+t;P.get(i).then(l=>{v(l.data)}).catch(l=>{console.log(l)})},C=async()=>{let t=W+"orders";P.get(t).then(i=>{v(i.data)}).catch(i=>{console.log(i)})},y=async t=>{let i=W+"orders/?agent_code="+t;P.get(i).then(l=>{v(l.data)}).catch(l=>{console.log(l)})},[S,v]=x.useState([]),n=S,[b,I]=x.useState(0),[h,M]=x.useState(10),B=b>0?Math.max(0,(1+b)*h-n.length):0,z=(t,i)=>{I(i)},F=t=>{M(parseInt(t.target.value,10)),I(0)},E=()=>{console.log("move")},H=t=>{j("/order/detail/"+t)},K=t=>{j("/order/history/"+t)};return e.jsxs(G,{title:"Order",description:"this is order page",children:[e.jsx(J,{title:"Order",items:ce}),e.jsx(Y,{title:"Order List",children:e.jsxs(q,{children:[e.jsx(N,{mt:2,mb:2,children:e.jsx(a,{size:{xs:12},children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsxs(a,{size:{xs:3},children:[e.jsx(r,{variant:"subtitle1",children:"Order ID"}),e.jsx(f,{fullWidth:!0})]}),e.jsxs(a,{size:{xs:3},children:[e.jsx(r,{variant:"subtitle1",children:"Customer Name"}),e.jsx(f,{fullWidth:!0})]}),e.jsxs(a,{size:{xs:3},children:[e.jsx(r,{variant:"subtitle1",children:"Order Date Begin"}),e.jsx(f,{fullWidth:!0,type:"date"})]}),e.jsxs(a,{size:{xs:3},children:[e.jsx(r,{variant:"subtitle1",children:"Order Date End"}),e.jsx(f,{fullWidth:!0,type:"date"})]}),e.jsxs(a,{size:{xs:3},children:[e.jsx(r,{variant:"subtitle1",children:"Order Status"}),e.jsxs(T,{fullWidth:!0,variant:"outlined",children:[e.jsx(o,{value:1,children:"New"}),e.jsx(o,{value:2,children:"Approved"}),e.jsx(o,{value:3,children:"Paid"}),e.jsx(o,{value:4,children:"Delivered"}),e.jsx(o,{value:5,children:"Returned"}),e.jsx(o,{value:6,children:"Closed"}),e.jsx(o,{value:7,children:"Cancelled"})]})]}),e.jsxs(a,{size:{xs:6},children:[e.jsx(r,{variant:"subtitle1",children:"Agent"}),e.jsxs(T,{fullWidth:!0,variant:"outlined",children:[e.jsx(o,{value:1,children:"GRM - TIA - TIA FINANCE HO"}),e.jsx(o,{value:2,children:"RKL - RKL - DAVID - DAVID WIDJAJA"}),e.jsx(o,{value:3,children:"RYC - BUFANNY - BU FANNY"})]})]}),e.jsxs(a,{size:{xs:3},children:[e.jsx(r,{variant:"subtitle1",children:"Type"}),e.jsxs(T,{fullWidth:!0,variant:"outlined",children:[e.jsx(o,{value:1,children:"Simcard"}),e.jsx(o,{value:2,children:"eSIM"})]})]}),e.jsx(a,{size:{xs:12},children:e.jsx(X,{variant:"contained",color:"primary",onClick:E,children:"Get Record"})})]})})}),e.jsx(Z,{children:e.jsxs($,{"aria-label":"custom pagination table",sx:{whiteSpace:"nowrap"},children:[e.jsx(ee,{children:e.jsxs(_,{children:[e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Action"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Seq"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Order ID"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Order Date"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Type"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Status"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Customer Name"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Contact Phone"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Contact WA"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Email"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Agent Code"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Agent Name"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Product"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Qty"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Total Order"})}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:"Total Cost"})})]})}),e.jsxs(te,{children:[(h>0?n.slice(b*h,b*h+h):n).map((t,i)=>e.jsxs(_,{children:[e.jsxs(s,{children:[e.jsx(R,{title:"Detail",children:e.jsx(m,{color:"success",onClick:()=>H(t.order_id),children:e.jsx(re,{width:22})})}),e.jsx(R,{title:"History",children:e.jsx(m,{color:"primary",onClick:()=>K(t.order_id),children:e.jsx(ae,{width:22})})})]}),e.jsx(s,{children:e.jsx(r,{variant:"subtitle2",children:i+1})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:t.order_id})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:w(t.order_date)})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:t.order_type})}),e.jsx(s,{children:e.jsx(ie,{color:t.order_status==="Paid"?"success":t.order_status==="New"?"warning":t.order_status==="Cancel"?"error":"secondary",sx:{borderRadius:"6px"},size:"small",label:t.order_status})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:t.order_customer_name})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:t.order_contact_phone.length>0?t.order_contact_phone:"-"})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:t.order_contact_wa.length>0?t.order_contact_wa:"-"})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:t.order_contact_email.length>0?t.order_contact_email:"-"})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:t.order_agent_code})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:t.order_agent_name})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:t.order_product})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:A(t.order_qty)})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:A(t.order_product_price)})}),e.jsx(s,{children:e.jsx(r,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:A(t.order_product_total_price)})})]},i)),B>0&&e.jsx(_,{style:{height:53*B},children:e.jsx(s,{colSpan:6})})]}),e.jsx(V,{children:e.jsx(_,{children:e.jsx(ne,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:16,count:n.length,rowsPerPage:h,page:b,SelectProps:{native:!0},onPageChange:z,onRowsPerPageChange:F,ActionsComponent:le})})})]})})]})})]})};export{_t as default};

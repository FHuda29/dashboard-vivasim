import{af as D,r as t,y as F,j as s}from"./index-bBoaL7NX.js";import{B as I}from"./Breadcrumb-Db9PlBea.js";import{P as k}from"./PageContainer-ClH7HaBW.js";import{U as A,V as E,a as R,b as q}from"./index-BL933dCY.js";import{C as x}from"./CustomFormLabel-DkCP5Nv8.js";import{C as f}from"./CustomTextField-nzkQUDrv.js";import{B as w}from"./Box-Cbtftx36.js";import{S as T}from"./Stack-DONMPCRZ.js";import{T as N}from"./Typography-B41TU7cT.js";import{B as j}from"./Button-2ihUhOt_.js";import{D as V}from"./Divider-4e_Zm7wz.js";import{G as d}from"./Grid2-CC46JW8y.js";import{I as z}from"./InputAdornment-DDw9KCxJ.js";import{I as G}from"./IconButton-6ozhzS-w.js";import{A as M}from"./Alert-CbLSE_hz.js";import{B as O}from"./BlankCard-BfHU7njI.js";import{C as W}from"./CardContent-TrRQSIz8.js";import"./Paper-CEo52ZYq.js";import"./useSlotProps-D8Vfx1ig.js";import"./Link-2pHd2OFC.js";import"./IconCircle-RJ076v1n.js";import"./createReactComponent-BVlLIvSm.js";import"./axios-MmGZYXFl.js";import"./apiConstants-C71iLEz3.js";import"./TextField-CNoxaAXv.js";import"./useSlot-C2y4Okaq.js";import"./useId-BgKtfLA5.js";import"./Select-x3FgNbWv.js";import"./Menu-DsMCwLnz.js";import"./Popover-BZ_q2ihg.js";import"./isHostComponent-DVu5iVWx.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Grow-DbIyLDOd.js";import"./utils-fXVEFgwU.js";import"./getReactElementRef-bhjrj0fa.js";import"./mergeSlotProps-9a9CFyBb.js";import"./Modal-B5yRmzaP.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Portal-PELJNkOL.js";import"./List-BNgu_2yQ.js";import"./utils-iop7lDec.js";import"./useControlled-B6T_fxKa.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CaUBXsoR.js";import"./FormControl-BPBqqdCO.js";import"./isMuiElement-CYEUdTOG.js";import"./createStack-D5Eniu1T.js";import"./styled-oSX1ZV8o.js";import"./useThemeProps-BUO-Zg8Q.js";import"./CircularProgress-BIjyWvHZ.js";import"./dividerClasses-D6e-UzmO.js";import"./Close-BajIXLAg.js";import"./Card-DDyARx6g.js";const _=()=>{const{seq:o}=D(),{resetPasswordUser:g,users:r}=t.useContext(A),[L,n]=t.useState(null),[J,m]=t.useState(null),[K,i]=t.useState(!1),[C,c]=t.useState(!1),u=F(),[p,a]=t.useState({seq:0,user_name:"",password:""}),P=e=>{const{name:l,value:b}=e.target;a(B=>({...{...B,[l]:b}}))},[h,U]=t.useState(!1),y=()=>{U(e=>!e)},v=e=>{e.preventDefault()};t.useEffect(()=>{if(console.log("seq : ",o),r.length>0)if(o){const e=r.find(l=>l.seq===parseInt(o));console.log("found: ",e),e?(n(e),a(e),m({...e}),i(!0)):(n(r[0]),a(r[0]),m({...r[0]}),i(!0))}else n(r[0]),a(r[0]),m({...r[0]}),i(!0)},[r]);const S=async()=>{try{const e=p.password;console.log("newPass: ",e),await g(o,e),i(!1),c(!0),u("/user/list")}catch(e){console.error("Error change password:",e)}setTimeout(()=>{c(!1)},5e3)};return s.jsx(s.Fragment,{children:s.jsxs(w,{children:[s.jsxs(T,{direction:"row",spacing:{xs:1,sm:2,md:4},justifyContent:"space-between",mb:3,children:[s.jsxs(N,{variant:"h5",children:["# ",o]}),s.jsxs(w,{display:"flex",gap:1,children:[s.jsx(j,{variant:"outlined",color:"error",onClick:()=>{u("/user/list")},children:"Cancel"}),s.jsx(j,{variant:"contained",color:"primary",onClick:S,children:"Save"})]})]}),s.jsx(V,{}),s.jsxs(d,{container:!0,spacing:3,mb:4,children:[s.jsxs(d,{size:{xs:12,sm:12},children:[s.jsx(x,{htmlFor:"userName",children:"User Name"}),s.jsx(f,{fullWidth:!0,value:p.user_name,InputProps:{readOnly:!0}})]}),s.jsxs(d,{size:{xs:12,sm:12},children:[s.jsx(x,{htmlFor:"userPass",sx:{mt:0},children:"Reset Password"}),s.jsx(f,{id:"password",name:"password",type:h?"text":"password",fullWidth:!0,value:p.password,onChange:P,InputProps:{endAdornment:s.jsx(z,{position:"end",children:s.jsx(G,{"aria-label":"toggle password visibility",onClick:y,onMouseDown:v,edge:"end",children:h?s.jsx(E,{}):s.jsx(R,{})})})}})]})]}),C&&s.jsx(M,{severity:"success",sx:{position:"fixed",top:16,right:16},children:"Users reset password successfully."})]})})},H=[{to:"/",title:"Home"},{title:"User Reset Password"}],Ys=()=>s.jsx(q,{children:s.jsxs(k,{title:"Change Reset User",description:"this is Change Reset User",children:[s.jsx(I,{title:"Change Reset User",items:H}),s.jsx(O,{children:s.jsx(W,{children:s.jsx(_,{})})})]})});export{Ys as default};

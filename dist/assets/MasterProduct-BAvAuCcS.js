import{r as d,z as y,j as t,L as F}from"./index-D0CpDmcp.js";import{T as L,L as S,F as B,K as k}from"./LastPage-CM86qExL.js";import{K as I}from"./KeyboardArrowRight-Bwz3qybY.js";import{B as _}from"./Breadcrumb-BVcp9-n_.js";import{P as z}from"./PageContainer-GyGJwSoy.js";import{P as K}from"./ParentCard-Dds6eSz-.js";import{B as E}from"./BlankCard-C5pX7qij.js";import{n as C}from"./Utils-DY8x-pVc.js";import{A as N}from"./apiConstants-ChAepINk.js";import{B as v}from"./Box-YfWKO8y5.js";import{S as U}from"./Stack-Br4H6Iex.js";import{T as H}from"./TextField-BL7FkBIN.js";import{I as O}from"./InputAdornment-DuPHhOrK.js";import{I as q}from"./IconSearch-CzsNSmQZ.js";import{B as Q}from"./Button-CgUWpLWI.js";import{T as V}from"./TableContainer-DwViaeU_.js";import{T as G,a as J,b as g,c as r,d as W}from"./TableRow-BZxns5TQ.js";import{T as a}from"./Typography-CxjCbjeZ.js";import{C as X}from"./Chip-C2vBKMax.js";import{T as Y}from"./TablePagination-_GCCBNyA.js";import{u as Z}from"./Paper-DYTAYSZ1.js";import{I as P}from"./IconButton-BxWHF3Dm.js";import"./createSvgIcon-DvMzRnlg.js";import"./mergeSlotProps-EoW_Nak3.js";import"./createChainedFunction-BO_9K8Jh.js";import"./debounce-Be36O1Ab.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./useId-BnzzJGZL.js";import"./useControlled-DdQeg7Rb.js";import"./Grid2-B3gzDQ3y.js";import"./useSlotProps-BSM9QyQs.js";import"./Link-Bnmvu_Gi.js";import"./IconCircle-D7zSMm9k.js";import"./createReactComponent-3iThfHP-.js";import"./Card-CBAn0QXF.js";import"./CardHeader-BR6S_Hd-.js";import"./useSlot-CFWOFHMb.js";import"./Divider-cwsqb4Sr.js";import"./dividerClasses-Cmg2xQcr.js";import"./CardContent-B3dzlDvA.js";import"./index-BPskgXx8.js";import"./index-DT2YvziZ.js";import"./createStack-D1qoiK_y.js";import"./Select-DUwfbIlc.js";import"./Menu-TWYswZS4.js";import"./Popover-BjLg-pXP.js";import"./isHostComponent-DVu5iVWx.js";import"./Grow-CRn5r_sP.js";import"./utils-knGZQcB_.js";import"./getReactElementRef-BjzLCeGl.js";import"./Modal-BGPPYg_F.js";import"./Portal-B-3ZW63z.js";import"./List-D2v3D0a6.js";import"./utils-iop7lDec.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CdybHpQR.js";import"./FormControl-Ds0TTNG5.js";import"./CircularProgress-DwEGvCDN.js";import"./KeyboardArrowRight-DiTjW17E.js";import"./LastPage-CYB3mln0.js";import"./MenuItem-CuGaY2Hq.js";import"./listItemTextClasses-IyJ_HmtO.js";import"./Toolbar-C5Hj9sbR.js";const M=N.apiUrl;function $(x){const l=Z(),{count:h,page:o,rowsPerPage:u,onPageChange:c}=x,b=s=>{c(s,0)},j=s=>{c(s,o-1)},p=s=>{c(s,o+1)},n=s=>{c(s,Math.max(0,Math.ceil(h/u)-1))};return t.jsxs(v,{sx:{flexShrink:0,ml:2.5},children:[t.jsx(P,{onClick:b,disabled:o===0,"aria-label":"first page",children:l.direction==="rtl"?t.jsx(S,{}):t.jsx(B,{})}),t.jsx(P,{onClick:j,disabled:o===0,"aria-label":"previous page",children:l.direction==="rtl"?t.jsx(I,{}):t.jsx(k,{})}),t.jsx(P,{onClick:p,disabled:o>=Math.ceil(h/u)-1,"aria-label":"next page",children:l.direction==="rtl"?t.jsx(k,{}):t.jsx(I,{})}),t.jsx(P,{onClick:n,disabled:o>=Math.ceil(h/u)-1,"aria-label":"last page",children:l.direction==="rtl"?t.jsx(B,{}):t.jsx(S,{})})]})}const tt=[{to:"/",title:"Home"},{title:"Master"}],me=()=>{d.useEffect(()=>{x()},[]);const x=async()=>{let e=M+"products";y.get(e).then(i=>{j(i.data)}).catch(i=>{console.log(i)})},[l,h]=d.useState(""),[o,u]=d.useState(!1),c=e=>{console.log(e.target.value),h(e.target.value);const i=e.target.value;if(i.length!==0){let D=M+"products/search?param="+i;y.get(D).then(f=>{j(f.data)}).catch(f=>{console.log(f)})}else x()},[b,j]=d.useState([]),p=b,[n,s]=d.useState(0),[m,R]=d.useState(10),T=n>0?Math.max(0,(1+n)*m-p.length):0,A=(e,i)=>{s(i)},w=e=>{R(parseInt(e.target.value,10)),s(0)};return t.jsxs(z,{title:"Products",description:"this is products page",children:[t.jsx(_,{title:"Products",items:tt}),t.jsx(K,{title:"Master Product List",children:t.jsxs(E,{children:[t.jsx(v,{children:t.jsxs(U,{mt:3,justifyContent:"space-between",direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:2,md:4},children:[t.jsx(H,{id:"search",type:"text",size:"small",variant:"outlined",value:l,onChange:c,InputProps:{endAdornment:t.jsx(O,{position:"end",children:t.jsx(q,{size:"16"})})}}),t.jsx(v,{display:"flex",gap:1,children:t.jsx(Q,{variant:"contained",color:"primary",component:F,to:"/apps/product/create",children:"New Product"})})]})}),t.jsx(V,{children:t.jsxs(G,{"aria-label":"custom pagination table",sx:{whiteSpace:"nowrap"},children:[t.jsx(J,{children:t.jsxs(g,{children:[t.jsx(r,{children:t.jsx(a,{variant:"subtitle2",children:"Product ID"})}),t.jsx(r,{children:t.jsx(a,{variant:"subtitle2",children:"Product Name"})}),t.jsx(r,{children:t.jsx(a,{variant:"subtitle2",children:"Country"})}),t.jsx(r,{children:t.jsx(a,{variant:"subtitle2",children:"Days"})}),t.jsx(r,{children:t.jsx(a,{variant:"subtitle2",children:"Quota"})}),t.jsx(r,{children:t.jsx(a,{variant:"subtitle2",children:"Selling Price"})}),t.jsx(r,{children:t.jsx(a,{variant:"subtitle2",children:"Status"})})]})}),t.jsxs(W,{children:[(m>0?p.slice(n*m,n*m+m):p).map((e,i)=>t.jsxs(g,{children:[t.jsx(r,{children:t.jsx(a,{variant:"caption",children:e.package_id})}),t.jsx(r,{children:t.jsx(a,{variant:"caption",children:e.package_name})}),t.jsx(r,{children:t.jsx(a,{variant:"caption",children:e.country})}),t.jsx(r,{children:t.jsx(a,{variant:"caption",children:C(e.days)})}),t.jsx(r,{children:t.jsx(a,{variant:"caption",children:C(e.quota)})}),t.jsx(r,{children:t.jsxs(a,{variant:"caption",children:["IDR ",C(e.selling_price)]})}),t.jsx(r,{children:t.jsx(X,{color:e.status==="Ready"?"success":e.status==="Used"?"warning":e.status==="Close"?"error":"secondary",sx:{borderRadius:"6px"},size:"small",label:e.status})})]},i)),T>0&&t.jsx(g,{style:{height:53*T},children:t.jsx(r,{colSpan:7})})]}),t.jsx(L,{children:t.jsx(g,{children:t.jsx(Y,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:7,count:p.length,rowsPerPage:m,page:n,SelectProps:{native:!0},onPageChange:A,onRowsPerPageChange:w,ActionsComponent:$})})})]})})]})})]})};export{me as default};

import{r as i,j as t,y as w}from"./index-bBoaL7NX.js";import{B as F}from"./Breadcrumb-Db9PlBea.js";import{P as k}from"./PageContainer-ClH7HaBW.js";import{i as f}from"./axios-MmGZYXFl.js";import{C as c}from"./CustomFormLabel-DkCP5Nv8.js";import{C as u}from"./CustomTextField-nzkQUDrv.js";import{C as E}from"./CustomSelect-_oosuc7Q.js";import{f as B}from"./index-J11PKsb-.js";import{B as g}from"./Box-Cbtftx36.js";import{S as P}from"./Stack-DONMPCRZ.js";import{T as D}from"./Typography-B41TU7cT.js";import{B as S}from"./Button-2ihUhOt_.js";import{D as b}from"./Divider-4e_Zm7wz.js";import{M as v}from"./MenuItem-DBmnqxHM.js";import{G as d}from"./Grid2-CC46JW8y.js";import{A as z}from"./Alert-CbLSE_hz.js";import{B as I}from"./BlankCard-BfHU7njI.js";import{C as M}from"./CardContent-TrRQSIz8.js";import"./Paper-CEo52ZYq.js";import"./useSlotProps-D8Vfx1ig.js";import"./Link-2pHd2OFC.js";import"./IconCircle-RJ076v1n.js";import"./createReactComponent-BVlLIvSm.js";import"./apiConstants-C71iLEz3.js";import"./TextField-CNoxaAXv.js";import"./useSlot-C2y4Okaq.js";import"./useId-BgKtfLA5.js";import"./Select-x3FgNbWv.js";import"./Menu-DsMCwLnz.js";import"./Popover-BZ_q2ihg.js";import"./isHostComponent-DVu5iVWx.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Grow-DbIyLDOd.js";import"./utils-fXVEFgwU.js";import"./getReactElementRef-bhjrj0fa.js";import"./mergeSlotProps-9a9CFyBb.js";import"./Modal-B5yRmzaP.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Portal-PELJNkOL.js";import"./List-BNgu_2yQ.js";import"./utils-iop7lDec.js";import"./useControlled-B6T_fxKa.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CaUBXsoR.js";import"./FormControl-BPBqqdCO.js";import"./isMuiElement-CYEUdTOG.js";import"./index-DT2YvziZ.js";import"./createStack-D5Eniu1T.js";import"./styled-oSX1ZV8o.js";import"./useThemeProps-BUO-Zg8Q.js";import"./CircularProgress-BIjyWvHZ.js";import"./dividerClasses-D6e-UzmO.js";import"./listItemTextClasses-DSEuY2ct.js";import"./Close-BajIXLAg.js";import"./IconButton-6ozhzS-w.js";import"./Card-DDyARx6g.js";const _=i.createContext(void 0),R=({children:y})=>{const[m,l]=i.useState([]),[x,h]=i.useState(!0),[s]=i.useState(null);i.useEffect(()=>{(async()=>{try{const e=await f.get("products");l(e.data),h(!1)}catch{h(!1)}})()},[]);const p=async n=>{try{await f.delete("/api/data/invoicedata/deleteinvoice",{data:{Seq:n}}),l(e=>e.filter(r=>r.seq!==n))}catch(e){console.error("Error deleting products:",e)}},o=async n=>{try{const r=(await f.post("products",n)).data;l(a=>[...a,r])}catch(e){console.error("Error adding products:",e)}},C=async n=>{try{const r=(await f.put("/api/data/invoicedata/updateinvoice",n)).data;l(a=>a.map(j=>j.seq===r.Seq?r:j))}catch(e){console.error("Error updating products:",e)}};return t.jsx(_.Provider,{value:{products:m,loading:x,error:s,deleteProduct:p,addProduct:o,updateProduct:C},children:y})},W=()=>{const{addProduct:y,products:m}=i.useContext(_),[l,x]=i.useState(!1),h=w(),[s,p]=i.useState({seq:0,package_id:"",package_name:"",country:"",days:0,quota:"",selling_price:0,status:"Ready"});i.useEffect(()=>{if(m.length>0){const r=m[m.length-1].seq;p(a=>({...a,seq:r+1}))}else p(r=>({...r,seq:1}))},[m]);const o=r=>{const{name:a,value:j}=r.target;p(q=>({...q,[a]:j}))},C=async r=>{r.preventDefault();try{await y(s),p({seq:0,package_id:"",package_name:"",country:"",days:0,quota:"",selling_price:0,status:"Ready"}),x(!0),setTimeout(()=>{x(!1)},5e3),h("/product/master")}catch(a){console.error("Error adding product:",a)}},e=B(new Date,"EEEE, MMMM dd, yyyy");return t.jsx(t.Fragment,{children:t.jsx("form",{onSubmit:C,children:t.jsxs(g,{children:[t.jsxs(P,{direction:"row",spacing:{xs:1,sm:2,md:4},justifyContent:"space-between",mb:3,children:[t.jsxs(D,{variant:"h5",children:["# ",s.seq]}),t.jsxs(g,{display:"flex",gap:1,children:[t.jsx(S,{variant:"outlined",color:"error",onClick:()=>{h("/product/master")},children:"Cancel"}),t.jsx(S,{type:"submit",variant:"contained",color:"primary",children:"Save Record"})]})]}),t.jsx(b,{}),t.jsxs(P,{direction:"row",spacing:{xs:1,sm:2,md:4},justifyContent:"space-between",alignItems:"center",mb:3,children:[t.jsxs(g,{children:[t.jsx(c,{htmlFor:"status",children:"Status"}),t.jsxs(E,{labelId:"status",id:"status",name:"status",value:s.status,onChange:o,children:[t.jsx(v,{value:"Ready",children:"Ready"}),t.jsx(v,{value:"Used",children:"Used"}),t.jsx(v,{value:"Close",children:"Close"})]})]}),t.jsxs(g,{textAlign:"right",children:[t.jsx(c,{htmlFor:"demo-simple-select",children:"Create Date"}),t.jsxs(D,{variant:"body1",children:[" ",e]})]})]}),t.jsx(b,{}),t.jsxs(d,{container:!0,spacing:3,mb:4,children:[t.jsxs(d,{size:{xs:12,sm:6},children:[t.jsx(c,{htmlFor:"ProductID",children:"ProductID"}),t.jsx(u,{id:"package_id",name:"package_id",value:s.package_id,onChange:o,fullWidth:!0})]}),t.jsxs(d,{size:{xs:12,sm:6},children:[t.jsx(c,{htmlFor:"ProductName",sx:{mt:{xs:0,sm:3}},children:"Product Name"}),t.jsx(u,{id:"package_name",name:"package_name",value:s.package_name,onChange:o,fullWidth:!0})]}),t.jsxs(d,{size:{xs:12,sm:6},children:[t.jsx(c,{htmlFor:"Country",sx:{mt:0},children:"Country"}),t.jsx(u,{id:"country",name:"country",value:s.country,onChange:o,fullWidth:!0})]}),t.jsxs(d,{size:{xs:12,sm:6},children:[t.jsx(c,{htmlFor:"Days",sx:{mt:0},children:"Days"}),t.jsx(u,{id:"days",name:"days",value:s.days,onChange:o,fullWidth:!0,inputProps:{type:"number"}})]}),t.jsxs(d,{size:{xs:12,sm:6},children:[t.jsx(c,{htmlFor:"Quota",sx:{mt:0},children:"Quota"}),t.jsx(u,{id:"quota",name:"quota",value:s.quota,onChange:o,fullWidth:!0})]}),t.jsxs(d,{size:{xs:12,sm:6},children:[t.jsx(c,{htmlFor:"SellingPrice",sx:{mt:0},children:"Selling Price"}),t.jsx(u,{id:"selling_price",name:"selling_price",value:s.selling_price,onChange:o,fullWidth:!0,inputProps:{type:"number"}})]})]}),l&&t.jsx(z,{severity:"success",sx:{position:"fixed",top:16,right:16},children:"Product added successfully."})]})})})},A=[{to:"/",title:"Home"},{title:"Product Create"}],Ut=()=>t.jsx(R,{children:t.jsxs(k,{title:"Create Product",description:"this is Create Product",children:[t.jsx(F,{title:"Create Product",items:A}),t.jsx(I,{children:t.jsx(M,{children:t.jsx(W,{})})})]})});export{Ut as default};

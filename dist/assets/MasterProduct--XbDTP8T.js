import{y as F,r as m,j as t,L}from"./index-bBoaL7NX.js";import{T as _,L as S,F as k,K as B}from"./LastPage-CUO0XoGI.js";import{K as I}from"./KeyboardArrowRight-CL0uG8E4.js";import{P as K}from"./PageContainer-ClH7HaBW.js";import{B as N}from"./BlankCard-BfHU7njI.js";import{n as C}from"./Utils-DZtz8wsc.js";import{i as M}from"./axios-MmGZYXFl.js";import{P as z}from"./ParentCard-CFe-nEgX.js";import{B as v}from"./Box-Cbtftx36.js";import{S as E}from"./Stack-DONMPCRZ.js";import{T as O}from"./TextField-CNoxaAXv.js";import{I as q}from"./InputAdornment-DDw9KCxJ.js";import{I as H}from"./IconSearch-8WAl2z6L.js";import{B as Q}from"./Button-2ihUhOt_.js";import{T as U}from"./TableContainer-OLbhJ7zr.js";import{T as V,a as G,b as g,c as s,d as J}from"./TableRow-Zqkg4FIQ.js";import{T as i}from"./Typography-B41TU7cT.js";import{C as W}from"./Chip-Bm7HxxC0.js";import{T as X}from"./TablePagination-DdevPbi4.js";import{u as Y}from"./Paper-CEo52ZYq.js";import{I as P}from"./IconButton-6ozhzS-w.js";import"./createSvgIcon-DcL-YXBs.js";import"./mergeSlotProps-9a9CFyBb.js";import"./createChainedFunction-BO_9K8Jh.js";import"./debounce-Be36O1Ab.js";import"./isMuiElement-CYEUdTOG.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./useId-BgKtfLA5.js";import"./useControlled-B6T_fxKa.js";import"./Card-DDyARx6g.js";import"./index-J11PKsb-.js";import"./index-DT2YvziZ.js";import"./apiConstants-C71iLEz3.js";import"./CardHeader-BGxrrKRe.js";import"./useSlot-C2y4Okaq.js";import"./Divider-4e_Zm7wz.js";import"./dividerClasses-D6e-UzmO.js";import"./CardContent-TrRQSIz8.js";import"./createStack-D5Eniu1T.js";import"./styled-oSX1ZV8o.js";import"./useThemeProps-BUO-Zg8Q.js";import"./Select-x3FgNbWv.js";import"./Menu-DsMCwLnz.js";import"./useSlotProps-D8Vfx1ig.js";import"./Popover-BZ_q2ihg.js";import"./isHostComponent-DVu5iVWx.js";import"./Grow-DbIyLDOd.js";import"./utils-fXVEFgwU.js";import"./getReactElementRef-bhjrj0fa.js";import"./Modal-B5yRmzaP.js";import"./Portal-PELJNkOL.js";import"./List-BNgu_2yQ.js";import"./utils-iop7lDec.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CaUBXsoR.js";import"./FormControl-BPBqqdCO.js";import"./createReactComponent-BVlLIvSm.js";import"./CircularProgress-BIjyWvHZ.js";import"./KeyboardArrowRight-BUHflnHK.js";import"./LastPage-CryT0fTs.js";import"./MenuItem-DBmnqxHM.js";import"./listItemTextClasses-DSEuY2ct.js";import"./Toolbar-BWjUcWdc.js";function Z(x){const n=Y(),{count:d,page:o,rowsPerPage:u,onPageChange:h}=x,b=a=>{h(a,0)},f=a=>{h(a,o-1)},j=a=>{h(a,o+1)},l=a=>{h(a,Math.max(0,Math.ceil(d/u)-1))};return t.jsxs(v,{sx:{flexShrink:0,ml:2.5},children:[t.jsx(P,{onClick:b,disabled:o===0,"aria-label":"first page",children:n.direction==="rtl"?t.jsx(S,{}):t.jsx(k,{})}),t.jsx(P,{onClick:f,disabled:o===0,"aria-label":"previous page",children:n.direction==="rtl"?t.jsx(I,{}):t.jsx(B,{})}),t.jsx(P,{onClick:j,disabled:o>=Math.ceil(d/u)-1,"aria-label":"next page",children:n.direction==="rtl"?t.jsx(B,{}):t.jsx(I,{})}),t.jsx(P,{onClick:l,disabled:o>=Math.ceil(d/u)-1,"aria-label":"last page",children:n.direction==="rtl"?t.jsx(k,{}):t.jsx(S,{})})]})}const ce=()=>{const x=F();m.useEffect(()=>{n()},[]);const n=async()=>{M.get("products").then(r=>{j(r.data)}).catch(r=>{r.response&&r.response.status===403||r.response.status===401?x("/auth/login"):console.log(r)})},[d,o]=m.useState(""),[u,h]=m.useState(!1),b=e=>{console.log(e.target.value),o(e.target.value);const r=e.target.value;if(r.length!==0){let D="products/search?param="+r;M.get(D).then(p=>{j(p.data)}).catch(p=>{p.response&&p.response.status===403||p.response.status===401?x("/auth/login"):console.log(p)})}else n()},[f,j]=m.useState([]),l=f,[a,T]=m.useState(0),[c,R]=m.useState(10),y=a>0?Math.max(0,(1+a)*c-l.length):0,w=(e,r)=>{T(r)},A=e=>{R(parseInt(e.target.value,10)),T(0)};return t.jsx(K,{title:"Products",description:"this is products page",children:t.jsxs(z,{title:"Master Product List",children:[t.jsx(v,{mb:2,children:t.jsxs(E,{mt:3,justifyContent:"space-between",direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:2,md:4},children:[t.jsx(O,{id:"search",type:"text",size:"small",variant:"outlined",value:d,onChange:b,InputProps:{endAdornment:t.jsx(q,{position:"end",children:t.jsx(H,{size:"16"})})}}),t.jsx(v,{display:"flex",gap:1,children:t.jsx(Q,{variant:"contained",color:"primary",component:L,to:"/apps/product/create",children:"New Product"})})]})}),t.jsx(N,{children:t.jsx(U,{children:t.jsxs(V,{"aria-label":"custom pagination table",sx:{whiteSpace:"nowrap"},children:[t.jsx(G,{children:t.jsxs(g,{children:[t.jsx(s,{children:t.jsx(i,{variant:"subtitle2",children:"Product ID"})}),t.jsx(s,{children:t.jsx(i,{variant:"subtitle2",children:"Product Name"})}),t.jsx(s,{children:t.jsx(i,{variant:"subtitle2",children:"Country"})}),t.jsx(s,{children:t.jsx(i,{variant:"subtitle2",children:"Days"})}),t.jsx(s,{children:t.jsx(i,{variant:"subtitle2",children:"Quota (MB)"})}),t.jsx(s,{children:t.jsx(i,{variant:"subtitle2",children:"Selling Price"})}),t.jsx(s,{children:t.jsx(i,{variant:"subtitle2",children:"Status"})})]})}),t.jsxs(J,{children:[(c>0?l.slice(a*c,a*c+c):l).map((e,r)=>t.jsxs(g,{children:[t.jsx(s,{children:t.jsx(i,{variant:"caption",children:e.package_id})}),t.jsx(s,{children:t.jsx(i,{variant:"caption",children:e.package_name})}),t.jsx(s,{children:t.jsx(i,{variant:"caption",children:e.country})}),t.jsx(s,{children:t.jsx(i,{variant:"caption",children:C(e.days)})}),t.jsx(s,{children:t.jsx(i,{variant:"caption",children:C(e.quota)})}),t.jsx(s,{children:t.jsxs(i,{variant:"caption",children:["IDR ",C(e.selling_price)]})}),t.jsx(s,{children:t.jsx(W,{color:e.status==="Ready"?"success":e.status==="Used"?"warning":e.status==="Close"?"error":"secondary",sx:{borderRadius:"6px"},size:"small",label:e.status})})]},r)),y>0&&t.jsx(g,{style:{height:53*y},children:t.jsx(s,{colSpan:1})})]}),t.jsx(_,{children:t.jsx(g,{children:t.jsx(X,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:1,count:l.length,rowsPerPage:c,page:a,SelectProps:{native:!0},onPageChange:w,onRowsPerPageChange:A,ActionsComponent:Z})})})]})})})]})})};export{ce as default};

import{y as M,r as o,z as B,j as e,L as F}from"./index-D0CpDmcp.js";import{T as z,L as T,F as S,K as y}from"./LastPage-CM86qExL.js";import{K as I}from"./KeyboardArrowRight-Bwz3qybY.js";import{B as E}from"./Breadcrumb-BVcp9-n_.js";import{P as K}from"./PageContainer-GyGJwSoy.js";import{P as O}from"./ParentCard-Dds6eSz-.js";import{B as H}from"./BlankCard-C5pX7qij.js";import{f as J}from"./Utils-DY8x-pVc.js";import{A as U}from"./apiConstants-ChAepINk.js";import{B as f}from"./Box-YfWKO8y5.js";import{S as q}from"./Stack-Br4H6Iex.js";import{T as G}from"./TextField-BL7FkBIN.js";import{I as Q}from"./InputAdornment-DuPHhOrK.js";import{I as V}from"./IconSearch-CzsNSmQZ.js";import{B as W}from"./Button-CgUWpLWI.js";import{T as X}from"./TableContainer-DwViaeU_.js";import{T as Y,a as Z,b as j,c as t,d as $}from"./TableRow-BZxns5TQ.js";import{T as n}from"./Typography-CxjCbjeZ.js";import{C as w}from"./Chip-C2vBKMax.js";import{T as ee}from"./TablePagination-_GCCBNyA.js";import{u as te}from"./Paper-DYTAYSZ1.js";import{I as g}from"./IconButton-BxWHF3Dm.js";import"./createSvgIcon-DvMzRnlg.js";import"./mergeSlotProps-EoW_Nak3.js";import"./createChainedFunction-BO_9K8Jh.js";import"./debounce-Be36O1Ab.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./useId-BnzzJGZL.js";import"./useControlled-DdQeg7Rb.js";import"./Grid2-B3gzDQ3y.js";import"./useSlotProps-BSM9QyQs.js";import"./Link-Bnmvu_Gi.js";import"./IconCircle-D7zSMm9k.js";import"./createReactComponent-3iThfHP-.js";import"./Card-CBAn0QXF.js";import"./CardHeader-BR6S_Hd-.js";import"./useSlot-CFWOFHMb.js";import"./Divider-cwsqb4Sr.js";import"./dividerClasses-Cmg2xQcr.js";import"./CardContent-B3dzlDvA.js";import"./index-BPskgXx8.js";import"./index-DT2YvziZ.js";import"./createStack-D1qoiK_y.js";import"./Select-DUwfbIlc.js";import"./Menu-TWYswZS4.js";import"./Popover-BjLg-pXP.js";import"./isHostComponent-DVu5iVWx.js";import"./Grow-CRn5r_sP.js";import"./utils-knGZQcB_.js";import"./getReactElementRef-BjzLCeGl.js";import"./Modal-BGPPYg_F.js";import"./Portal-B-3ZW63z.js";import"./List-D2v3D0a6.js";import"./utils-iop7lDec.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CdybHpQR.js";import"./FormControl-Ds0TTNG5.js";import"./CircularProgress-DwEGvCDN.js";import"./KeyboardArrowRight-DiTjW17E.js";import"./LastPage-CYB3mln0.js";import"./MenuItem-CuGaY2Hq.js";import"./listItemTextClasses-IyJ_HmtO.js";import"./Toolbar-C5Hj9sbR.js";const L=U.apiUrl;function ne(u){const l=te(),{count:d,page:r,rowsPerPage:h,onPageChange:p}=u,_=s=>{p(s,0)},A=s=>{p(s,r-1)},C=s=>{p(s,r+1)},v=s=>{p(s,Math.max(0,Math.ceil(d/h)-1))};return e.jsxs(f,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(g,{onClick:_,disabled:r===0,"aria-label":"first page",children:l.direction==="rtl"?e.jsx(T,{}):e.jsx(S,{})}),e.jsx(g,{onClick:A,disabled:r===0,"aria-label":"previous page",children:l.direction==="rtl"?e.jsx(I,{}):e.jsx(y,{})}),e.jsx(g,{onClick:C,disabled:r>=Math.ceil(d/h)-1,"aria-label":"next page",children:l.direction==="rtl"?e.jsx(y,{}):e.jsx(I,{})}),e.jsx(g,{onClick:v,disabled:r>=Math.ceil(d/h)-1,"aria-label":"last page",children:l.direction==="rtl"?e.jsx(S,{}):e.jsx(T,{})})]})}const ie=[{to:"/",title:"Home"},{title:"Agent"}],xt=()=>{const u=M();o.useEffect(()=>{const i=localStorage.getItem("data_success_login");if(i){const a=JSON.parse(i);console.log("user_name:",a.user_name),console.log("session_name:",a.session_name),console.log("session_level:",a.session_level),console.log("last_login_time:",a.last_login_time),console.log("blocked:",a.blocked),a.session_level.toLowerCase()==="partner"?d(a.session_name):l()}else u("/auth/login")},[]);const l=async()=>{let i=L+"agents";B.get(i).then(a=>{s(a.data)}).catch(a=>{console.log(a)})},d=async i=>{let a=L+"agents/cobrand/"+i;B.get(a).then(b=>{s(b.data)}).catch(b=>{console.log(b)})},[r,h]=o.useState(""),[p,_]=o.useState(!1),[A,C]=o.useState(!1),[v,s]=o.useState([]),x=v,[m,P]=o.useState(0),[c,N]=o.useState(10),k=m>0?Math.max(0,(1+m)*c-x.length):0,D=(i,a)=>{P(a)},R=i=>{N(parseInt(i.target.value,10)),P(0)};return e.jsxs(K,{title:"Agent",description:"this is agent page",children:[e.jsx(E,{title:"Agent",items:ie}),e.jsx(O,{title:"Agent List",children:e.jsxs(H,{children:[e.jsx(f,{children:e.jsxs(q,{mt:3,justifyContent:"space-between",direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:2,md:4},children:[e.jsx(G,{id:"search",type:"text",size:"small",variant:"outlined",placeholder:"Search",value:r,onChange:i=>h(i.target.value),InputProps:{endAdornment:e.jsx(Q,{position:"end",children:e.jsx(V,{size:"16"})})}}),e.jsx(f,{display:"flex",gap:1,children:e.jsx(W,{variant:"contained",color:"primary",component:F,to:"/apps/agent/create",children:"Add Agent"})})]})}),e.jsx(X,{children:e.jsxs(Y,{"aria-label":"custom pagination table",sx:{whiteSpace:"nowrap"},children:[e.jsx(Z,{children:e.jsxs(j,{children:[e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Agent Code"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Agent ID"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"ID Type"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Name"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Address"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Office Phone"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Contact Person"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Contact Phone"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Email"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Account Manager"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Contract Number"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Payment Note"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Bank Name"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Bank Acc No"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Bank Acc Name"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Commission %"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Join Date"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Status"})}),e.jsx(t,{children:e.jsx(n,{variant:"subtitle2",children:"Note"})})]})}),e.jsxs($,{children:[(c>0?x.slice(m*c,m*c+c):x).map((i,a)=>e.jsxs(j,{children:[e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.agent_code})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.agent_id})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.id_type})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.name})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.address})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.office_phone})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.contact_person})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.contact_phone})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.email})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.account_manager})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.contract_no})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.payment_note})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.bank_name})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.bank_acc_no})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.bank_acc_name})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.commission_pct})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:J(i.join_date)})}),e.jsx(t,{children:e.jsx(w,{color:i.status==="Active"?"success":i.status==="InActive"?"warning":i.status=="Blocked"?"error":"secondary",sx:{borderRadius:"6px"},size:"small",label:i.status==="Active"?"Active":i.status==="InActive"?"Inactive":"Blocked"})}),e.jsx(t,{children:e.jsx(n,{variant:"caption",children:i.note})})]},a)),k>0&&e.jsx(j,{style:{height:53*k},children:e.jsx(t,{colSpan:19})})]}),e.jsx(z,{children:e.jsx(j,{children:e.jsx(ee,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:19,count:x.length,rowsPerPage:c,page:m,SelectProps:{native:!0},onPageChange:D,onRowsPerPageChange:R,ActionsComponent:ne})})})]})})]})})]})};export{xt as default};

import{r as o,y as q,z as u,j as t}from"./index-q1gJB5H0.js";import{P as F}from"./PageContainer-ShAoTXqo.js";import{B as G}from"./Breadcrumb-Sx0jSoUO.js";import{P as H}from"./ParentCard-BoIC9gk3.js";import{B as J}from"./BlankCard-CQVnRHeI.js";import{C as g}from"./CustomSelect-BHYrF69e.js";import{C as _}from"./CustomTextField-CMbY8JHb.js";import{A as O}from"./apiConstants-ChAepINk.js";import{B as S}from"./Box-DjbeIn6R.js";import{G as r}from"./Grid2-CqZBoIec.js";import{T as a}from"./Typography-BxNQAu-e.js";import{M as c}from"./MenuItem-C7G2QaZb.js";import{B as R}from"./Button-BiCTccas.js";import{A as Y}from"./Alert-Bdc-5zR2.js";import"./Paper-BfYJvf2K.js";import"./useSlotProps-fxj6j4ji.js";import"./Link-CbpODTtF.js";import"./IconCircle-BrnHHpVV.js";import"./createReactComponent-4CU5_L6_.js";import"./Card-bW_5XQOp.js";import"./CardHeader-D3eDM15l.js";import"./useSlot-C5ueERyv.js";import"./Divider-D_QCNZIA.js";import"./dividerClasses-BBaEuH8O.js";import"./CardContent-DWdd_6p9.js";import"./Select-Be-xDOsD.js";import"./Menu-CI0qCauS.js";import"./Popover-B2Kr2jsd.js";import"./isHostComponent-DVu5iVWx.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Grow-NO3rZCFB.js";import"./utils-NaTNKqhR.js";import"./getReactElementRef-BT4zc5ME.js";import"./mergeSlotProps-02bNjKG-.js";import"./Modal-BICTQXNK.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Portal-CFBZdEcL.js";import"./List-CdKlZLq8.js";import"./utils-iop7lDec.js";import"./useControlled-2SXrPK_C.js";import"./useId-SD238GYo.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CXKl78CG.js";import"./TextField-jB7bX9P6.js";import"./FormControl-BbMb6ExL.js";import"./listItemTextClasses-BL7DomhZ.js";import"./CircularProgress-C7fJ-WBe.js";import"./Close-D9Qbw5x7.js";import"./IconButton-Dqm0TkKE.js";const h=O.apiUrl,K=[{to:"/",title:"Home"},{title:"Inventory"}],Ve=()=>{const[x,b]=o.useState(""),[I,y]=o.useState(""),[Q,V]=o.useState([]),[A,v]=o.useState(!1),f=q();o.useEffect(()=>{const e=localStorage.getItem("data_success_login");if(e){const s=JSON.parse(e);console.log("user_name:",s.user_name),console.log("session_name:",s.session_name),console.log("session_level:",s.session_level),console.log("last_login_time:",s.last_login_time),console.log("blocked:",s.blocked),b(s.session_level),y(s.session_name),s.session_level.toLowerCase()==="partner"?U(s.session_name):W()}else f("/auth/login")},[]);const[P,M]=o.useState([]),B=P,[D,L]=o.useState([]),[m,z]=o.useState(""),[n,w]=o.useState(""),[d,k]=o.useState(""),[p,E]=o.useState(""),[X,Z]=o.useState(""),[C,T]=o.useState(""),W=async()=>{let e=h+"partners";u.get(e).then(s=>{M(s.data)}).catch(s=>{console.log(s)})},U=async e=>{let s=h+"agents/cobrand/"+e;u.get(s).then(i=>{L(i.data)}).catch(i=>{console.log(i)})},N=()=>{console.log("move"),console.log(m),console.log(n),console.log(d),console.log(p),console.log(C);let e="",s="";x.toLowerCase()==="partner"?(e=I.split("-")[0],s=n):(e=m,s=n);let i=h+"inventory/ccid?ccidstart="+d+"&ccidend="+p+"&cobrand_id="+e+"&agent_code="+s;u.get(i).then(l=>{console.log("res: ",l);const j=l.data;j.success?(v(!0),setTimeout(()=>{v(!1)},5e3),f("/inventory/list")):alert(j.message)}).catch(l=>{console.log(l)})};return t.jsxs(F,{title:"Inventory",description:"this is inventory page",children:[t.jsx(G,{title:"Inventory",items:K}),t.jsx(H,{title:"Move Simcard to Partner",children:t.jsxs(J,{children:[t.jsx(S,{mt:2,mb:2,children:t.jsx(r,{size:{xs:12},children:t.jsxs(r,{container:!0,spacing:2,children:[x.toLowerCase()==="partner"?t.jsxs(r,{size:{xs:3},children:[t.jsx(a,{variant:"subtitle1",children:"Move to Agent"}),t.jsx(g,{fullWidth:!0,variant:"outlined",value:n||"",onChange:e=>w(e.target.value),children:D.map(e=>t.jsxs(c,{value:e.agent_code,children:[e.agent_code," - ",e.name]},e.seq))})]}):t.jsxs(r,{size:{xs:3},children:[t.jsx(a,{variant:"subtitle1",children:"Move to Partner"}),t.jsx(g,{fullWidth:!0,variant:"outlined",value:m||"",onChange:e=>z(e.target.value),children:B.map(e=>t.jsxs(c,{value:e.cobrand_id,children:[e.cobrand_id," - ",e.cobrand_name]},e.seq))})]}),t.jsxs(r,{size:{xs:3},children:[t.jsx(a,{variant:"subtitle1",children:"ICCID Serial From (19 digit awal)"}),t.jsx(_,{fullWidth:!0,value:d,onChange:e=>k(e.target.value)})]}),t.jsxs(r,{size:{xs:3},children:[t.jsx(a,{variant:"subtitle1",children:"ICCID Serial To (19 digit awal)"}),t.jsx(_,{fullWidth:!0,value:p,onChange:e=>E(e.target.value)})]}),t.jsxs(r,{size:{xs:3},children:[t.jsx(a,{variant:"subtitle1",children:"Confirm Move ?"}),t.jsxs(g,{fullWidth:!0,variant:"outlined",value:C||"",onChange:e=>T(e.target.value),children:[t.jsx(c,{value:1,children:"No"}),t.jsx(c,{value:2,children:"Yes"})]})]}),t.jsx(r,{size:{xs:12},children:t.jsx(R,{variant:"contained",color:"primary",onClick:N,children:"Move"})})]})})}),t.jsx(S,{display:"flex",gap:1}),A&&t.jsx(Y,{severity:"success",sx:{position:"fixed",top:16,right:16},children:"Move Simcard successfully."})]})})]})};export{Ve as default};

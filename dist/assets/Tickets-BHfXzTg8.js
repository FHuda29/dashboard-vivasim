import{c as g,r as T,$ as C,b as f,j as t,a0 as k,a1 as b,a2 as d}from"./index-D0CpDmcp.js";import{B as v}from"./Breadcrumb-BVcp9-n_.js";import{P as S}from"./PageContainer-GyGJwSoy.js";import{u as w}from"./Paper-DYTAYSZ1.js";import{B as l}from"./Box-YfWKO8y5.js";import{T as y}from"./TextField-BL7FkBIN.js";import{T as L}from"./TableContainer-DwViaeU_.js";import{T as P,a as B,b as u,c as s,d as I}from"./TableRow-BZxns5TQ.js";import{T as r,s as z}from"./Typography-CxjCbjeZ.js";import{S as A}from"./Stack-Br4H6Iex.js";import{A as D}from"./Avatar-kYwKbBBr.js";import{C as R}from"./Chip-C2vBKMax.js";import{f as W}from"./index-BPskgXx8.js";import{T as O}from"./Tooltip-BtHUzaXN.js";import{I as E}from"./IconButton-BxWHF3Dm.js";import{I as F}from"./IconTrash-GIZUJftO.js";import{P as M}from"./Pagination-Kxx-pODf.js";import{G as a}from"./Grid2-B3gzDQ3y.js";import{C as G}from"./ChildCard-DYuC6c8b.js";import"./useSlotProps-BSM9QyQs.js";import"./Link-Bnmvu_Gi.js";import"./IconCircle-D7zSMm9k.js";import"./createReactComponent-3iThfHP-.js";import"./useSlot-CFWOFHMb.js";import"./useId-BnzzJGZL.js";import"./Select-DUwfbIlc.js";import"./Menu-TWYswZS4.js";import"./Popover-BjLg-pXP.js";import"./isHostComponent-DVu5iVWx.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Grow-CRn5r_sP.js";import"./utils-knGZQcB_.js";import"./getReactElementRef-BjzLCeGl.js";import"./mergeSlotProps-EoW_Nak3.js";import"./Modal-BGPPYg_F.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Portal-B-3ZW63z.js";import"./List-D2v3D0a6.js";import"./utils-iop7lDec.js";import"./useControlled-DdQeg7Rb.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CdybHpQR.js";import"./FormControl-Ds0TTNG5.js";import"./createStack-D1qoiK_y.js";import"./index-DT2YvziZ.js";import"./Popper-BuGE3Q_O.js";import"./CircularProgress-DwEGvCDN.js";import"./LastPage-CYB3mln0.js";import"./Card-CBAn0QXF.js";import"./CardHeader-BR6S_Hd-.js";import"./Divider-cwsqb4Sr.js";import"./dividerClasses-Cmg2xQcr.js";import"./CardContent-B3dzlDvA.js";const H=()=>{const o=g(),n=w();T.useEffect(()=>{o(C())},[o]);const m=(e,j,c)=>{switch(j){case"total_tickets":return e.filter(i=>!i.deleted&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Pending":return e.filter(i=>!i.deleted&&i.Status==="Pending"&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Closed":return e.filter(i=>!i.deleted&&i.Status==="Closed"&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Open":return e.filter(i=>!i.deleted&&i.Status==="Open"&&i.ticketTitle.toLocaleLowerCase().includes(c));default:throw new Error(`Unknown filter: ${j}`)}},p=f(e=>m(e.ticketReducer.tickets,e.ticketReducer.currentFilter,e.ticketReducer.ticketSearch)),x=e=>e.Status==="Open"?n.palette.success.light:e.Status==="Closed"?n.palette.error.light:e.Status==="Pending"?n.palette.warning.light:e.Status==="Moderate"?n.palette.primary.light:"primary";return t.jsxs(l,{mt:4,children:[t.jsx(l,{sx:{maxWidth:"260px",ml:"auto"},mb:3,children:t.jsx(y,{size:"small",label:"Search",fullWidth:!0,onChange:e=>o(k(e.target.value))})}),t.jsx(L,{children:t.jsxs(P,{children:[t.jsx(B,{children:t.jsxs(u,{children:[t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Id"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Ticket"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Assigned To"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Status"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Date"})}),t.jsx(s,{align:"right",children:t.jsx(r,{variant:"h6",children:"Action"})})]})}),t.jsx(I,{children:p.map(e=>t.jsxs(u,{hover:!0,children:[t.jsx(s,{children:e.Id}),t.jsx(s,{children:t.jsxs(l,{children:[t.jsx(r,{variant:"h6",fontWeight:600,noWrap:!0,children:e.ticketTitle}),t.jsx(r,{color:"textSecondary",noWrap:!0,sx:{maxWidth:"250px"},variant:"subtitle2",fontWeight:400,children:e.ticketDescription})]})}),t.jsx(s,{children:t.jsxs(A,{direction:"row",gap:"10px",alignItems:"center",children:[t.jsx(D,{src:e.thumb,alt:e.thumb,sx:{borderRadius:"100%",width:"35"}}),t.jsx(r,{variant:"h6",children:e.AgentName})]})}),t.jsx(s,{children:t.jsx(R,{sx:{backgroundColor:x(e)},size:"small",label:e.Status})}),t.jsx(s,{children:t.jsx(r,{variant:"subtitle1",children:W(new Date(e.Date),"E, MMM d")})}),t.jsx(s,{align:"right",children:t.jsx(O,{title:"Delete Ticket",children:t.jsx(E,{onClick:()=>o(b(e.Id)),children:t.jsx(F,{size:"18"})})})})]},e.Id))})]})}),t.jsx(l,{my:3,display:"flex",justifyContent:"center",children:t.jsx(M,{count:10,color:"primary"})})]})},h=z(l)(()=>({padding:"30px",transition:"0.1s ease-in",cursor:"pointer",color:"inherit","&:hover":{transform:"scale(1.03)"}})),N=()=>{const o=g(),n=f(e=>e.ticketReducer.tickets),m=n.filter(e=>e.Status==="Pending").length,p=n.filter(e=>e.Status==="Open").length,x=n.filter(e=>e.Status==="Closed").length;return t.jsxs(a,{container:!0,spacing:3,textAlign:"center",children:[t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("total_tickets")),sx:{backgroundColor:"primary.light",color:"primary.main"},children:[t.jsx(r,{variant:"h3",children:n.length}),t.jsx(r,{variant:"h6",children:"Total Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("Pending")),sx:{backgroundColor:"warning.light",color:"warning.main"},children:[t.jsx(r,{variant:"h3",children:m}),t.jsx(r,{variant:"h6",children:"Pending Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("Open")),sx:{backgroundColor:"success.light",color:"success.main"},children:[t.jsx(r,{variant:"h3",children:p}),t.jsx(r,{variant:"h6",children:"Open Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("Closed")),sx:{backgroundColor:"error.light",color:"error.main"},children:[t.jsx(r,{variant:"h3",children:x}),t.jsx(r,{variant:"h6",children:"Closed Tickets"})]})})]})},V=[{to:"/",title:"Home"},{title:"Tickets"}],$t=()=>t.jsxs(S,{title:"Tickets App",description:"this is Note page",children:[t.jsx(v,{title:"Tickets app",items:V}),t.jsxs(G,{children:[t.jsx(N,{}),t.jsx(H,{})]})]});export{$t as default};

import{R as h,c as V,a3 as X,b as G,j as e,aX as J}from"./index-bBoaL7NX.js";import{C as A}from"./CustomCheckbox-DBXLoiv1.js";import{C as K}from"./CustomSwitch-CTfrjYux.js";import{u as N,P as Q}from"./Paper-CEo52ZYq.js";import{B as x}from"./Box-Cbtftx36.js";import{T as U}from"./TableContainer-OLbhJ7zr.js";import{T as Y,d as Z,b as k,c as u,a as _}from"./TableRow-Zqkg4FIQ.js";import{A as ee}from"./Avatar-CUO15ytv.js";import{T as f}from"./Typography-B41TU7cT.js";import{f as te}from"./index-J11PKsb-.js";import{T as C}from"./Tooltip-CRAcMsX-.js";import{I as v}from"./IconButton-6ozhzS-w.js";import{I as se}from"./IconDotsVertical-2Bwo94K3.js";import{T as ne}from"./TablePagination-DdevPbi4.js";import{F as ae}from"./FormControlLabel-qTc2OSFR.js";import{T as re}from"./Toolbar-BWjUcWdc.js";import{T as ce}from"./TextField-CNoxaAXv.js";import{I as ie}from"./InputAdornment-DDw9KCxJ.js";import{I as oe}from"./IconSearch-8WAl2z6L.js";import{I as le}from"./IconTrash-B1FRgie-.js";import{I as de,T as he}from"./IconFilter-rbHoZuJ0.js";import{v as me}from"./visuallyHidden-Dan1xhjv.js";function w(o,r,s){return r[s]<o[s]?-1:r[s]>o[s]?1:0}function xe(o,r){return o==="desc"?(s,a)=>w(s,a,r):(s,a)=>-w(s,a,r)}function ue(o,r){const s=o.map((a,n)=>[a,n]);return s.sort((a,n)=>{const m=r(a[0],n[0]);return m!==0?m:a[1]-n[1]}),s.map(a=>a[0])}const pe=[{id:"name",numeric:!1,disablePadding:!1,label:"Products"},{id:"pname",numeric:!1,disablePadding:!1,label:"Date"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"price",numeric:!1,disablePadding:!1,label:"Price"},{id:"action",numeric:!1,disablePadding:!1,label:"Action"}];function fe(o){const{onSelectAllClick:r,order:s,orderBy:a,numSelected:n,rowCount:m,onRequestSort:p}=o,S=c=>T=>{p(T,c)};return e.jsx(_,{children:e.jsxs(k,{children:[e.jsx(u,{padding:"checkbox",children:e.jsx(A,{color:"primary",checked:m>0&&n===m,onChange:r,inputProps:{"aria-label":"select all desserts"}})}),pe.map(c=>e.jsx(u,{align:c.numeric?"right":"left",padding:c.disablePadding?"none":"normal",sortDirection:a===c.id?s:!1,children:e.jsxs(he,{active:a===c.id,direction:a===c.id?s:"asc",onClick:S(c.id),children:[c.label,a===c.id?e.jsx(x,{component:"span",sx:me,children:s==="desc"?"sorted descending":"sorted ascending"}):null]})},c.id))]})})}const ge=o=>{const{numSelected:r,handleSearch:s,search:a}=o;return e.jsxs(re,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...r>0&&{bgcolor:n=>J(n.palette.primary.main,n.palette.action.activatedOpacity)}},children:[r>0?e.jsxs(f,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle2",component:"div",children:[r," selected"]}):e.jsx(x,{sx:{flex:"1 1 100%"},children:e.jsx(ce,{InputProps:{startAdornment:e.jsx(ie,{position:"start",children:e.jsx(oe,{size:"1.1rem"})})},placeholder:"Search Product",size:"small",onChange:s,value:a})}),r>0?e.jsx(C,{title:"Delete",children:e.jsx(v,{children:e.jsx(le,{width:"18"})})}):e.jsx(C,{title:"Filter list",children:e.jsx(v,{children:e.jsx(de,{size:"1.2rem"})})})]})},We=()=>{const[o,r]=h.useState("asc"),[s,a]=h.useState("calories"),[n,m]=h.useState([]),[p,S]=h.useState(0),[c,T]=h.useState(!1),[g,D]=h.useState(5),I=V();h.useEffect(()=>{I(X())},[I]);const P=G(t=>t.ecommerceReducer.products),[j,y]=h.useState(P),[z,E]=h.useState("");h.useEffect(()=>{y(P)},[P]);const O=t=>{const l=P.filter(i=>i.title.toLowerCase().includes(t.target.value));E(t.target.value),y(l)},F=(t,l)=>{r(s===l&&o==="asc"?"desc":"asc"),a(l)},H=t=>{if(t.target.checked){const l=j.map(i=>i.title);m(l);return}m([])},L=(t,l)=>{const i=n.indexOf(l);let d=[];i===-1?d=d.concat(n,l):i===0?d=d.concat(n.slice(1)):i===n.length-1?d=d.concat(n.slice(0,-1)):i>0&&(d=d.concat(n.slice(0,i),n.slice(i+1))),m(d)},M=(t,l)=>{S(l)},q=t=>{D(parseInt(t.target.value,10)),S(0)},B=t=>{T(t.target.checked)},W=t=>n.indexOf(t)!==-1,R=p>0?Math.max(0,(1+p)*g-j.length):0,$=N().palette.divider;return e.jsx(x,{children:e.jsxs(x,{children:[e.jsx(ge,{numSelected:n.length,search:z,handleSearch:t=>O(t)}),e.jsxs(Q,{variant:"outlined",sx:{mx:2,mt:1,border:`1px solid ${$}`},children:[e.jsx(U,{children:e.jsxs(Y,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:c?"small":"medium",children:[e.jsx(fe,{numSelected:n.length,order:o,orderBy:s,onSelectAllClick:H,onRequestSort:F,rowCount:j.length}),e.jsxs(Z,{children:[ue(j,xe(o,s)).slice(p*g,p*g+g).map((t,l)=>{const i=W(t.title),d=`enhanced-table-checkbox-${l}`;return e.jsxs(k,{hover:!0,onClick:b=>L(b,t.title),role:"checkbox","aria-checked":i,tabIndex:-1,selected:i,children:[e.jsx(u,{padding:"checkbox",children:e.jsx(A,{color:"primary",checked:i,inputProps:{"aria-labelledby":d}})}),e.jsx(u,{children:e.jsxs(x,{display:"flex",alignItems:"center",children:[e.jsx(ee,{src:t.photo,alt:"product",sx:{width:56,height:56}}),e.jsxs(x,{sx:{ml:2},children:[e.jsx(f,{variant:"h6",fontWeight:"600",children:t.title}),e.jsx(f,{color:"textSecondary",variant:"subtitle2",children:t.category})]})]})}),e.jsx(u,{children:e.jsx(f,{children:te(new Date(t.created),"E, MMM d yyyy")})}),e.jsx(u,{children:e.jsxs(x,{display:"flex",alignItems:"center",children:[e.jsx(x,{sx:{backgroundColor:t.stock?b=>b.palette.success.main:b=>b.palette.error.main,borderRadius:"100%",height:"10px",width:"10px"}}),e.jsx(f,{color:"textSecondary",variant:"subtitle2",sx:{ml:1},children:t.stock?"InStock":"Out of Stock"})]})}),e.jsx(u,{children:e.jsxs(f,{fontWeight:600,variant:"h6",children:["$",t.price]})}),e.jsx(u,{children:e.jsx(C,{title:"Edit",children:e.jsx(v,{size:"small",children:e.jsx(se,{size:"1.1rem"})})})})]},t.title)}),R>0&&e.jsx(k,{style:{height:(c?33:53)*R},children:e.jsx(u,{colSpan:6})})]})]})}),e.jsx(ne,{rowsPerPageOptions:[5,10,25],component:"div",count:j.length,rowsPerPage:g,page:p,onPageChange:M,onRowsPerPageChange:q})]}),e.jsx(x,{ml:2,children:e.jsx(ae,{control:e.jsx(K,{checked:c,onChange:B}),label:"Dense padding"})})]})})};export{We as P};

import{af as S,r as l,e as b,y as k,j as t}from"./index-bBoaL7NX.js";import{B as I}from"./Breadcrumb-Db9PlBea.js";import{P as B}from"./PageContainer-ClH7HaBW.js";import{P as z,a as W}from"./index-DCR7lqGc.js";import{C as i}from"./CustomFormLabel-DkCP5Nv8.js";import{C as a}from"./CustomTextField-nzkQUDrv.js";import{B as h}from"./Box-Cbtftx36.js";import{S as _}from"./Stack-DONMPCRZ.js";import{T as O}from"./Typography-B41TU7cT.js";import{B as m}from"./Button-2ihUhOt_.js";import{D as q}from"./Divider-4e_Zm7wz.js";import{G as o}from"./Grid2-CC46JW8y.js";import{A as w}from"./Alert-CbLSE_hz.js";import{B as D}from"./BlankCard-BfHU7njI.js";import{C as T}from"./CardContent-TrRQSIz8.js";import"./Paper-CEo52ZYq.js";import"./useSlotProps-D8Vfx1ig.js";import"./Link-2pHd2OFC.js";import"./IconCircle-RJ076v1n.js";import"./createReactComponent-BVlLIvSm.js";import"./axios-MmGZYXFl.js";import"./apiConstants-C71iLEz3.js";import"./TextField-CNoxaAXv.js";import"./useSlot-C2y4Okaq.js";import"./useId-BgKtfLA5.js";import"./Select-x3FgNbWv.js";import"./Menu-DsMCwLnz.js";import"./Popover-BZ_q2ihg.js";import"./isHostComponent-DVu5iVWx.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Grow-DbIyLDOd.js";import"./utils-fXVEFgwU.js";import"./getReactElementRef-bhjrj0fa.js";import"./mergeSlotProps-9a9CFyBb.js";import"./Modal-B5yRmzaP.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Portal-PELJNkOL.js";import"./List-BNgu_2yQ.js";import"./utils-iop7lDec.js";import"./useControlled-B6T_fxKa.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CaUBXsoR.js";import"./FormControl-BPBqqdCO.js";import"./isMuiElement-CYEUdTOG.js";import"./createStack-D5Eniu1T.js";import"./styled-oSX1ZV8o.js";import"./useThemeProps-BUO-Zg8Q.js";import"./CircularProgress-BIjyWvHZ.js";import"./dividerClasses-D6e-UzmO.js";import"./Close-BajIXLAg.js";import"./IconButton-6ozhzS-w.js";import"./Card-DDyARx6g.js";const A=()=>{const{seq:d}=S(),{products:n,updateProduct:j}=l.useContext(z),[f,p]=l.useState(!1),[g,c]=l.useState(null),[P,u]=l.useState(!1),[e,s]=l.useState(null),v=b().pathname.split("/").pop();l.useEffect(()=>{if(console.log("seq : ",d),n.length>0)if(d){const r=n.find(E=>E.seq===parseInt(d));console.log("found: ",r),r?(c(r),s({...r}),u(!0)):(c(n[0]),s({...n[0]}),u(!0))}else c(n[0]),s({...n[0]}),u(!0)},[v,n]);const x=k(),C=async()=>{try{await j(e),c({...e}),u(!1),p(!0),x("/product/partner")}catch(r){console.error("Error updating product partner:",r)}setTimeout(()=>{p(!1)},5e3)},y=()=>{x("/product/partner")};return g?t.jsxs(h,{children:[t.jsxs(_,{direction:"row",spacing:{xs:1,sm:2,md:4},justifyContent:"space-between",alignItems:"center",mb:3,children:[t.jsxs(O,{variant:"h5",children:["# ",e.seq]}),t.jsx(h,{display:"flex",gap:1,children:P?t.jsxs(t.Fragment,{children:[t.jsx(m,{variant:"contained",color:"primary",onClick:C,children:"Save"}),t.jsx(m,{variant:"outlined",color:"error",onClick:y,children:"Cancel"})]}):t.jsx(m,{variant:"contained",color:"info",onClick:()=>u(!0),children:"Edit Product"})})]}),t.jsx(q,{}),t.jsxs(o,{container:!0,spacing:3,mb:4,children:[t.jsxs(o,{size:{xs:12,sm:6},children:[t.jsx(i,{children:"Partner ID"}),t.jsx(a,{value:e.cobrand_id,onChange:r=>s({...e,cobrand_id:r.target.value}),fullWidth:!0,InputProps:{readOnly:!0}})]}),t.jsxs(o,{size:{xs:12,sm:6},children:[t.jsx(i,{sx:{mt:{xs:0,sm:3}},children:"Package ID"}),t.jsx(a,{value:e.package_id,onChange:r=>s({...e,package_id:r.target.value}),fullWidth:!0,InputProps:{readOnly:!0}})]}),t.jsxs(o,{size:{xs:12,sm:6},children:[t.jsx(i,{sx:{mt:0},children:"Package Name"}),t.jsx(a,{value:e.package_name,onChange:r=>s({...e,package_name:r.target.value}),InputProps:{readOnly:!0},fullWidth:!0})]}),t.jsxs(o,{size:{xs:12,sm:6},children:[t.jsx(i,{sx:{mt:0},children:"Country"}),t.jsx(a,{value:e.country,onChange:r=>s({...e,country:r.target.value}),InputProps:{readOnly:!0},fullWidth:!0})]}),t.jsxs(o,{size:{xs:12,sm:6},children:[t.jsx(i,{sx:{mt:0},children:"Days"}),t.jsx(a,{type:"number",value:e.days,onChange:r=>s({...e,days:r.target.value}),InputProps:{readOnly:!0},fullWidth:!0})]}),t.jsxs(o,{size:{xs:12,sm:6},children:[t.jsx(i,{sx:{mt:0},children:"Quota"}),t.jsx(a,{type:"number",value:e.quota,onChange:r=>s({...e,quota:r.target.value}),InputProps:{readOnly:!0},fullWidth:!0})]}),t.jsxs(o,{size:{xs:12,sm:6},children:[t.jsx(i,{sx:{mt:0},children:"Selling Price (*)"}),t.jsx(a,{type:"number",value:e.selling_price,onChange:r=>s({...e,selling_price:r.target.value}),fullWidth:!0})]}),t.jsxs(o,{size:{xs:12,sm:6},children:[t.jsx(i,{sx:{mt:0},children:"Status"}),t.jsx(a,{value:e.status,onChange:r=>s({...e,status:r.target.value}),InputProps:{readOnly:!0},fullWidth:!0})]})]}),f&&t.jsx(w,{severity:"success",sx:{position:"fixed",top:16,right:16},children:"Product partner data updated successfully."})]}):t.jsx("div",{children:"Please select an invoice."})},F=[{to:"/",title:"Home"},{title:"Product Partner Edit"}],Lt=()=>t.jsx(W,{children:t.jsxs(B,{title:"Edit Product Partner",description:"this is Edit Product Partner",children:[t.jsx(I,{title:"Edit Product Partner",items:F}),t.jsx(D,{children:t.jsx(T,{children:t.jsx(A,{})})})]})});export{Lt as default};

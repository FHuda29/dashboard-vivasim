import{c as g,r as T,_ as C,b as f,j as t,$ as k,a0 as b,a1 as d}from"./index-bBoaL7NX.js";import{B as v}from"./Breadcrumb-Db9PlBea.js";import{P as S}from"./PageContainer-ClH7HaBW.js";import{u as w}from"./Paper-CEo52ZYq.js";import{B as l}from"./Box-Cbtftx36.js";import{T as y}from"./TextField-CNoxaAXv.js";import{T as L}from"./TableContainer-OLbhJ7zr.js";import{T as P,a as B,b as u,c as s,d as I}from"./TableRow-Zqkg4FIQ.js";import{T as e,s as z}from"./Typography-B41TU7cT.js";import{S as A}from"./Stack-DONMPCRZ.js";import{A as D}from"./Avatar-CUO15ytv.js";import{C as R}from"./Chip-Bm7HxxC0.js";import{f as W}from"./index-J11PKsb-.js";import{T as O}from"./Tooltip-CRAcMsX-.js";import{I as E}from"./IconButton-6ozhzS-w.js";import{I as F}from"./IconTrash-B1FRgie-.js";import{P as M}from"./Pagination-BQtbR-yL.js";import{G as a}from"./Grid2-CC46JW8y.js";import{C as _}from"./ChildCard-BEYqypGE.js";import"./useSlotProps-D8Vfx1ig.js";import"./Link-2pHd2OFC.js";import"./IconCircle-RJ076v1n.js";import"./createReactComponent-BVlLIvSm.js";import"./useSlot-C2y4Okaq.js";import"./useId-BgKtfLA5.js";import"./Select-x3FgNbWv.js";import"./Menu-DsMCwLnz.js";import"./Popover-BZ_q2ihg.js";import"./isHostComponent-DVu5iVWx.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Grow-DbIyLDOd.js";import"./utils-fXVEFgwU.js";import"./getReactElementRef-bhjrj0fa.js";import"./mergeSlotProps-9a9CFyBb.js";import"./Modal-B5yRmzaP.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Portal-PELJNkOL.js";import"./List-BNgu_2yQ.js";import"./utils-iop7lDec.js";import"./useControlled-B6T_fxKa.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CaUBXsoR.js";import"./FormControl-BPBqqdCO.js";import"./isMuiElement-CYEUdTOG.js";import"./createStack-D5Eniu1T.js";import"./styled-oSX1ZV8o.js";import"./useThemeProps-BUO-Zg8Q.js";import"./index-DT2YvziZ.js";import"./Popper-ppbRY3WN.js";import"./CircularProgress-BIjyWvHZ.js";import"./LastPage-CryT0fTs.js";import"./Card-DDyARx6g.js";import"./CardHeader-BGxrrKRe.js";import"./Divider-4e_Zm7wz.js";import"./dividerClasses-D6e-UzmO.js";import"./CardContent-TrRQSIz8.js";const G=()=>{const o=g(),n=w();T.useEffect(()=>{o(C())},[o]);const h=(r,j,c)=>{switch(j){case"total_tickets":return r.filter(i=>!i.deleted&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Pending":return r.filter(i=>!i.deleted&&i.Status==="Pending"&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Closed":return r.filter(i=>!i.deleted&&i.Status==="Closed"&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Open":return r.filter(i=>!i.deleted&&i.Status==="Open"&&i.ticketTitle.toLocaleLowerCase().includes(c));default:throw new Error(`Unknown filter: ${j}`)}},p=f(r=>h(r.ticketReducer.tickets,r.ticketReducer.currentFilter,r.ticketReducer.ticketSearch)),x=r=>r.Status==="Open"?n.palette.success.light:r.Status==="Closed"?n.palette.error.light:r.Status==="Pending"?n.palette.warning.light:r.Status==="Moderate"?n.palette.primary.light:"primary";return t.jsxs(l,{mt:4,children:[t.jsx(l,{sx:{maxWidth:"260px",ml:"auto"},mb:3,children:t.jsx(y,{size:"small",label:"Search",fullWidth:!0,onChange:r=>o(k(r.target.value))})}),t.jsx(L,{children:t.jsxs(P,{children:[t.jsx(B,{children:t.jsxs(u,{children:[t.jsx(s,{children:t.jsx(e,{variant:"h6",children:"Id"})}),t.jsx(s,{children:t.jsx(e,{variant:"h6",children:"Ticket"})}),t.jsx(s,{children:t.jsx(e,{variant:"h6",children:"Assigned To"})}),t.jsx(s,{children:t.jsx(e,{variant:"h6",children:"Status"})}),t.jsx(s,{children:t.jsx(e,{variant:"h6",children:"Date"})}),t.jsx(s,{align:"right",children:t.jsx(e,{variant:"h6",children:"Action"})})]})}),t.jsx(I,{children:p.map(r=>t.jsxs(u,{hover:!0,children:[t.jsx(s,{children:r.Id}),t.jsx(s,{children:t.jsxs(l,{children:[t.jsx(e,{variant:"h6",fontWeight:600,noWrap:!0,children:r.ticketTitle}),t.jsx(e,{color:"textSecondary",noWrap:!0,sx:{maxWidth:"250px"},variant:"subtitle2",fontWeight:400,children:r.ticketDescription})]})}),t.jsx(s,{children:t.jsxs(A,{direction:"row",gap:"10px",alignItems:"center",children:[t.jsx(D,{src:r.thumb,alt:r.thumb,sx:{borderRadius:"100%",width:"35"}}),t.jsx(e,{variant:"h6",children:r.AgentName})]})}),t.jsx(s,{children:t.jsx(R,{sx:{backgroundColor:x(r)},size:"small",label:r.Status})}),t.jsx(s,{children:t.jsx(e,{variant:"subtitle1",children:W(new Date(r.Date),"E, MMM d")})}),t.jsx(s,{align:"right",children:t.jsx(O,{title:"Delete Ticket",children:t.jsx(E,{onClick:()=>o(b(r.Id)),children:t.jsx(F,{size:"18"})})})})]},r.Id))})]})}),t.jsx(l,{my:3,display:"flex",justifyContent:"center",children:t.jsx(M,{count:10,color:"primary"})})]})},m=z(l)(()=>({padding:"30px",transition:"0.1s ease-in",cursor:"pointer",color:"inherit","&:hover":{transform:"scale(1.03)"}})),H=()=>{const o=g(),n=f(r=>r.ticketReducer.tickets),h=n.filter(r=>r.Status==="Pending").length,p=n.filter(r=>r.Status==="Open").length,x=n.filter(r=>r.Status==="Closed").length;return t.jsxs(a,{container:!0,spacing:3,textAlign:"center",children:[t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(m,{onClick:()=>o(d("total_tickets")),sx:{backgroundColor:"primary.light",color:"primary.main"},children:[t.jsx(e,{variant:"h3",children:n.length}),t.jsx(e,{variant:"h6",children:"Total Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(m,{onClick:()=>o(d("Pending")),sx:{backgroundColor:"warning.light",color:"warning.main"},children:[t.jsx(e,{variant:"h3",children:h}),t.jsx(e,{variant:"h6",children:"Pending Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(m,{onClick:()=>o(d("Open")),sx:{backgroundColor:"success.light",color:"success.main"},children:[t.jsx(e,{variant:"h3",children:p}),t.jsx(e,{variant:"h6",children:"Open Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(m,{onClick:()=>o(d("Closed")),sx:{backgroundColor:"error.light",color:"error.main"},children:[t.jsx(e,{variant:"h3",children:x}),t.jsx(e,{variant:"h6",children:"Closed Tickets"})]})})]})},N=[{to:"/",title:"Home"},{title:"Tickets"}],Jt=()=>t.jsxs(S,{title:"Tickets App",description:"this is Note page",children:[t.jsx(v,{title:"Tickets app",items:N}),t.jsxs(_,{children:[t.jsx(H,{}),t.jsx(G,{})]})]});export{Jt as default};

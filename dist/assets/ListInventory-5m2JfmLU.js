import{y as z,r as l,z as v,j as e}from"./index-q1gJB5H0.js";import{T as K,L as k,F as A,K as D}from"./LastPage-BXapEql4.js";import{K as R}from"./KeyboardArrowRight-CJokzGPg.js";import{B as U}from"./Breadcrumb-Sx0jSoUO.js";import{P as E}from"./PageContainer-ShAoTXqo.js";import{P as N}from"./ParentCard-BoIC9gk3.js";import{B as H}from"./BlankCard-CQVnRHeI.js";import{n as J}from"./Utils-BDQZAxTQ.js";import{A as V}from"./apiConstants-ChAepINk.js";import{B as F}from"./Box-DjbeIn6R.js";import{S as q}from"./Stack-Cgjz-K8z.js";import{T as G}from"./TextField-jB7bX9P6.js";import{I as Q}from"./InputAdornment-R8Z08I6l.js";import{I as W}from"./IconSearch-DvGXs4n0.js";import{T as X}from"./TableContainer-BZE4S_Sa.js";import{T as Y,a as Z,b,c as n,d as $}from"./TableRow-Coc6NZuK.js";import{T as i}from"./Typography-BxNQAu-e.js";import{C as ee}from"./Chip-J76kHj1Q.js";import{T as te}from"./TablePagination-CivVj9w3.js";import{u as se}from"./Paper-BfYJvf2K.js";import{I as f}from"./IconButton-Dqm0TkKE.js";import"./createSvgIcon-BjFntfiU.js";import"./mergeSlotProps-02bNjKG-.js";import"./createChainedFunction-BO_9K8Jh.js";import"./debounce-Be36O1Ab.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./useId-SD238GYo.js";import"./useControlled-2SXrPK_C.js";import"./Grid2-CqZBoIec.js";import"./useSlotProps-fxj6j4ji.js";import"./Link-CbpODTtF.js";import"./IconCircle-BrnHHpVV.js";import"./createReactComponent-4CU5_L6_.js";import"./Card-bW_5XQOp.js";import"./CardHeader-D3eDM15l.js";import"./useSlot-C5ueERyv.js";import"./Divider-D_QCNZIA.js";import"./dividerClasses-BBaEuH8O.js";import"./CardContent-DWdd_6p9.js";import"./index-CFaCQM0R.js";import"./index-DT2YvziZ.js";import"./createStack-B9LP_pb5.js";import"./Select-Be-xDOsD.js";import"./Menu-CI0qCauS.js";import"./Popover-B2Kr2jsd.js";import"./isHostComponent-DVu5iVWx.js";import"./Grow-NO3rZCFB.js";import"./utils-NaTNKqhR.js";import"./getReactElementRef-BT4zc5ME.js";import"./Modal-BICTQXNK.js";import"./Portal-CFBZdEcL.js";import"./List-CdKlZLq8.js";import"./utils-iop7lDec.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CXKl78CG.js";import"./FormControl-BbMb6ExL.js";import"./KeyboardArrowRight-BYTEHBB3.js";import"./LastPage-BDJO45m9.js";import"./MenuItem-C7G2QaZb.js";import"./listItemTextClasses-BL7DomhZ.js";import"./Toolbar-BrCMVVJL.js";import"./CircularProgress-C7fJ-WBe.js";const y=V.apiUrl;function ne(P){const c=se(),{count:p,page:o,rowsPerPage:x,onPageChange:m}=P,S=a=>{m(a,0)},g=a=>{m(a,o-1)},_=a=>{m(a,o+1)},C=a=>{m(a,Math.max(0,Math.ceil(p/x)-1))};return e.jsxs(F,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(f,{onClick:S,disabled:o===0,"aria-label":"first page",children:c.direction==="rtl"?e.jsx(k,{}):e.jsx(A,{})}),e.jsx(f,{onClick:g,disabled:o===0,"aria-label":"previous page",children:c.direction==="rtl"?e.jsx(R,{}):e.jsx(D,{})}),e.jsx(f,{onClick:_,disabled:o>=Math.ceil(p/x)-1,"aria-label":"next page",children:c.direction==="rtl"?e.jsx(D,{}):e.jsx(R,{})}),e.jsx(f,{onClick:C,disabled:o>=Math.ceil(p/x)-1,"aria-label":"last page",children:c.direction==="rtl"?e.jsx(A,{}):e.jsx(k,{})})]})}const ie=[{to:"/",title:"Home"},{title:"Inventory"}],xt=()=>{const P=z(),[c,p]=l.useState(""),[o,x]=l.useState(!1),[m,S]=l.useState(!1);l.useEffect(()=>{const t=localStorage.getItem("data_success_login");if(t){const s=JSON.parse(t);if(console.log("user_name:",s.user_name),console.log("session_name:",s.session_name),console.log("session_level:",s.session_level),console.log("last_login_time:",s.last_login_time),console.log("blocked:",s.blocked),s.session_level.toLowerCase()==="partner"){const r=s.session_name.split("-")[0];_(r)}else s.session_level.toLowerCase()==="agent-manager"?C(s.session_name):g()}else P("/auth/login")},[]);const g=async()=>{let t=y+"inventory";v.get(t).then(s=>{j(s.data)}).catch(s=>{console.log(s)})},_=async t=>{let s=y+"inventory/cobrand/"+t;v.get(s).then(r=>{j(r.data)}).catch(r=>{console.log(r)})},C=async t=>{let s=y+"inventory/agent/"+t;v.get(s).then(r=>{j(r.data)}).catch(r=>{console.log(r)})},[a,j]=l.useState([]),u=a,[h,T]=l.useState(0),[d,L]=l.useState(10),B=h>0?Math.max(0,(1+h)*d-u.length):0,w=(t,s)=>{T(s)},O=t=>{L(parseInt(t.target.value,10)),T(0)},M=t=>{console.log(t.target.value),p(t.target.value);const s=t.target.value;if(s.length!==0){let r=y+"inventory/search?param="+s;v.get(r).then(I=>{j(I.data)}).catch(I=>{console.log(I)})}else g()};return e.jsxs(E,{title:"Inventory",description:"this is inventory page",children:[e.jsx(U,{title:"Inventory",items:ie}),e.jsx(N,{title:"Inventory List",children:e.jsxs(H,{children:[e.jsx(F,{children:e.jsx(q,{mt:3,justifyContent:"space-between",direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:2,md:4},children:e.jsx(G,{id:"search",type:"text",size:"small",variant:"outlined",placeholder:"Search",value:c,onChange:M,InputProps:{endAdornment:e.jsx(Q,{position:"end",children:e.jsx(W,{size:"16"})})}})})}),e.jsx(X,{children:e.jsxs(Y,{"aria-label":"custom pagination table",sx:{whiteSpace:"nowrap"},children:[e.jsx(Z,{children:e.jsxs(b,{children:[e.jsx(n,{children:e.jsx(i,{variant:"subtitle2",children:"ICCID"})}),e.jsx(n,{children:e.jsx(i,{variant:"subtitle2",children:"Sim Type"})}),e.jsx(n,{children:e.jsx(i,{variant:"subtitle2",children:"Status"})}),e.jsx(n,{children:e.jsx(i,{variant:"subtitle2",children:"Order ID"})}),e.jsx(n,{children:e.jsx(i,{variant:"subtitle2",children:"Country"})}),e.jsx(n,{children:e.jsx(i,{variant:"subtitle2",children:"Selling Price"})}),e.jsx(n,{children:e.jsx(i,{variant:"subtitle2",children:"In Date"})}),e.jsx(n,{children:e.jsx(i,{variant:"subtitle2",children:"Out Date"})}),e.jsx(n,{children:e.jsx(i,{variant:"subtitle2",children:"Partner"})}),e.jsx(n,{children:e.jsx(i,{variant:"subtitle2",children:"Agent"})})]})}),e.jsxs($,{children:[(d>0?u.slice(h*d,h*d+d):u).map((t,s)=>e.jsxs(b,{children:[e.jsx(n,{children:e.jsx(i,{variant:"caption",children:t.iccid})}),e.jsx(n,{children:e.jsx(i,{variant:"caption",children:t.sim_type})}),e.jsx(n,{children:e.jsx(ee,{color:t.status==="Ready"?"success":t.status==="Open"?"warning":t.status=="Used"?"error":"secondary",sx:{borderRadius:"6px"},size:"small",label:t.status})}),e.jsx(n,{children:e.jsx(i,{variant:"caption",children:t.order_id})}),e.jsx(n,{children:e.jsx(i,{variant:"caption",children:t.country_id})}),e.jsx(n,{children:e.jsxs(i,{variant:"caption",children:["IDR ",J(t.selling_price)]})}),e.jsx(n,{children:e.jsx(i,{variant:"caption",children:t.in_date})}),e.jsx(n,{children:e.jsx(i,{variant:"caption",children:t.out_date})}),e.jsx(n,{children:e.jsx(i,{variant:"caption",children:t.cobrand_id})}),e.jsx(n,{children:e.jsx(i,{variant:"caption",children:t.agent_code})})]},s)),B>0&&e.jsx(b,{style:{height:53*B},children:e.jsx(n,{colSpan:10})})]}),e.jsx(K,{children:e.jsx(b,{children:e.jsx(te,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:10,count:u.length,rowsPerPage:d,page:h,SelectProps:{native:!0},onPageChange:w,onRowsPerPageChange:O,ActionsComponent:ne})})})]})})]})})]})};export{xt as default};

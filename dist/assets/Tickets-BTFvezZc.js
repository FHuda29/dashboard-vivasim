import{c as g,r as T,$ as C,b as f,j as t,a0 as k,a1 as b,a2 as d}from"./index-q1gJB5H0.js";import{B as v}from"./Breadcrumb-Sx0jSoUO.js";import{P as S}from"./PageContainer-ShAoTXqo.js";import{u as w}from"./Paper-BfYJvf2K.js";import{B as l}from"./Box-DjbeIn6R.js";import{T as y}from"./TextField-jB7bX9P6.js";import{T as L}from"./TableContainer-BZE4S_Sa.js";import{T as P,a as B,b as u,c as s,d as I}from"./TableRow-Coc6NZuK.js";import{T as r,s as z}from"./Typography-BxNQAu-e.js";import{S as A}from"./Stack-Cgjz-K8z.js";import{A as D}from"./Avatar-DrmknITC.js";import{C as R}from"./Chip-J76kHj1Q.js";import{f as W}from"./index-CFaCQM0R.js";import{T as O}from"./Tooltip-T0REb2Y8.js";import{I as E}from"./IconButton-Dqm0TkKE.js";import{I as F}from"./IconTrash-DjH7im3-.js";import{P as M}from"./Pagination-CgEru3SK.js";import{G as a}from"./Grid2-CqZBoIec.js";import{C as G}from"./ChildCard-CxfxNJXb.js";import"./useSlotProps-fxj6j4ji.js";import"./Link-CbpODTtF.js";import"./IconCircle-BrnHHpVV.js";import"./createReactComponent-4CU5_L6_.js";import"./useSlot-C5ueERyv.js";import"./useId-SD238GYo.js";import"./Select-Be-xDOsD.js";import"./Menu-CI0qCauS.js";import"./Popover-B2Kr2jsd.js";import"./isHostComponent-DVu5iVWx.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Grow-NO3rZCFB.js";import"./utils-NaTNKqhR.js";import"./getReactElementRef-BT4zc5ME.js";import"./mergeSlotProps-02bNjKG-.js";import"./Modal-BICTQXNK.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Portal-CFBZdEcL.js";import"./List-CdKlZLq8.js";import"./utils-iop7lDec.js";import"./useControlled-2SXrPK_C.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-CXKl78CG.js";import"./FormControl-BbMb6ExL.js";import"./createStack-B9LP_pb5.js";import"./index-DT2YvziZ.js";import"./Popper-5ImFPPqG.js";import"./CircularProgress-C7fJ-WBe.js";import"./LastPage-BDJO45m9.js";import"./Card-bW_5XQOp.js";import"./CardHeader-D3eDM15l.js";import"./Divider-D_QCNZIA.js";import"./dividerClasses-BBaEuH8O.js";import"./CardContent-DWdd_6p9.js";const H=()=>{const o=g(),n=w();T.useEffect(()=>{o(C())},[o]);const m=(e,j,c)=>{switch(j){case"total_tickets":return e.filter(i=>!i.deleted&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Pending":return e.filter(i=>!i.deleted&&i.Status==="Pending"&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Closed":return e.filter(i=>!i.deleted&&i.Status==="Closed"&&i.ticketTitle.toLocaleLowerCase().includes(c));case"Open":return e.filter(i=>!i.deleted&&i.Status==="Open"&&i.ticketTitle.toLocaleLowerCase().includes(c));default:throw new Error(`Unknown filter: ${j}`)}},p=f(e=>m(e.ticketReducer.tickets,e.ticketReducer.currentFilter,e.ticketReducer.ticketSearch)),x=e=>e.Status==="Open"?n.palette.success.light:e.Status==="Closed"?n.palette.error.light:e.Status==="Pending"?n.palette.warning.light:e.Status==="Moderate"?n.palette.primary.light:"primary";return t.jsxs(l,{mt:4,children:[t.jsx(l,{sx:{maxWidth:"260px",ml:"auto"},mb:3,children:t.jsx(y,{size:"small",label:"Search",fullWidth:!0,onChange:e=>o(k(e.target.value))})}),t.jsx(L,{children:t.jsxs(P,{children:[t.jsx(B,{children:t.jsxs(u,{children:[t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Id"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Ticket"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Assigned To"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Status"})}),t.jsx(s,{children:t.jsx(r,{variant:"h6",children:"Date"})}),t.jsx(s,{align:"right",children:t.jsx(r,{variant:"h6",children:"Action"})})]})}),t.jsx(I,{children:p.map(e=>t.jsxs(u,{hover:!0,children:[t.jsx(s,{children:e.Id}),t.jsx(s,{children:t.jsxs(l,{children:[t.jsx(r,{variant:"h6",fontWeight:600,noWrap:!0,children:e.ticketTitle}),t.jsx(r,{color:"textSecondary",noWrap:!0,sx:{maxWidth:"250px"},variant:"subtitle2",fontWeight:400,children:e.ticketDescription})]})}),t.jsx(s,{children:t.jsxs(A,{direction:"row",gap:"10px",alignItems:"center",children:[t.jsx(D,{src:e.thumb,alt:e.thumb,sx:{borderRadius:"100%",width:"35"}}),t.jsx(r,{variant:"h6",children:e.AgentName})]})}),t.jsx(s,{children:t.jsx(R,{sx:{backgroundColor:x(e)},size:"small",label:e.Status})}),t.jsx(s,{children:t.jsx(r,{variant:"subtitle1",children:W(new Date(e.Date),"E, MMM d")})}),t.jsx(s,{align:"right",children:t.jsx(O,{title:"Delete Ticket",children:t.jsx(E,{onClick:()=>o(b(e.Id)),children:t.jsx(F,{size:"18"})})})})]},e.Id))})]})}),t.jsx(l,{my:3,display:"flex",justifyContent:"center",children:t.jsx(M,{count:10,color:"primary"})})]})},h=z(l)(()=>({padding:"30px",transition:"0.1s ease-in",cursor:"pointer",color:"inherit","&:hover":{transform:"scale(1.03)"}})),N=()=>{const o=g(),n=f(e=>e.ticketReducer.tickets),m=n.filter(e=>e.Status==="Pending").length,p=n.filter(e=>e.Status==="Open").length,x=n.filter(e=>e.Status==="Closed").length;return t.jsxs(a,{container:!0,spacing:3,textAlign:"center",children:[t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("total_tickets")),sx:{backgroundColor:"primary.light",color:"primary.main"},children:[t.jsx(r,{variant:"h3",children:n.length}),t.jsx(r,{variant:"h6",children:"Total Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("Pending")),sx:{backgroundColor:"warning.light",color:"warning.main"},children:[t.jsx(r,{variant:"h3",children:m}),t.jsx(r,{variant:"h6",children:"Pending Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("Open")),sx:{backgroundColor:"success.light",color:"success.main"},children:[t.jsx(r,{variant:"h3",children:p}),t.jsx(r,{variant:"h6",children:"Open Tickets"})]})}),t.jsx(a,{size:{lg:3,sm:6,xs:12},children:t.jsxs(h,{onClick:()=>o(d("Closed")),sx:{backgroundColor:"error.light",color:"error.main"},children:[t.jsx(r,{variant:"h3",children:x}),t.jsx(r,{variant:"h6",children:"Closed Tickets"})]})})]})},V=[{to:"/",title:"Home"},{title:"Tickets"}],$t=()=>t.jsxs(S,{title:"Tickets App",description:"this is Note page",children:[t.jsx(v,{title:"Tickets app",items:V}),t.jsxs(G,{children:[t.jsx(N,{}),t.jsx(H,{})]})]});export{$t as default};

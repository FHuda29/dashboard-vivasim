import{y as T,r as o,z as u,j as e}from"./index-D0CpDmcp.js";import{P as C}from"./PageContainer-GyGJwSoy.js";import{B as I}from"./Breadcrumb-BVcp9-n_.js";import{P}from"./ParentCard-Dds6eSz-.js";import{B as R}from"./BlankCard-C5pX7qij.js";import{A as W}from"./apiConstants-ChAepINk.js";import{T as B}from"./TableContainer-DwViaeU_.js";import{T as L,a as U,b as m,c as n,d as w}from"./TableRow-BZxns5TQ.js";import{T as a}from"./Typography-CxjCbjeZ.js";import{C as A}from"./Chip-C2vBKMax.js";import"./Paper-DYTAYSZ1.js";import"./Grid2-B3gzDQ3y.js";import"./Box-YfWKO8y5.js";import"./useSlotProps-BSM9QyQs.js";import"./Link-Bnmvu_Gi.js";import"./IconCircle-D7zSMm9k.js";import"./createReactComponent-3iThfHP-.js";import"./Card-CBAn0QXF.js";import"./CardHeader-BR6S_Hd-.js";import"./useSlot-CFWOFHMb.js";import"./Divider-cwsqb4Sr.js";import"./dividerClasses-Cmg2xQcr.js";import"./CardContent-B3dzlDvA.js";const x=W.apiUrl,E=[{to:"/",title:"Home"},{title:"Inventory"}],me=()=>{const y=T(),[N,g]=o.useState(""),[k,j]=o.useState(""),[q,v]=o.useState("");o.useEffect(()=>{const s=localStorage.getItem("data_success_login");if(s){const t=JSON.parse(s);if(console.log("user_name:",t.user_name),console.log("session_name:",t.session_name),console.log("session_level:",t.session_level),console.log("last_login_time:",t.last_login_time),console.log("blocked:",t.blocked),g(t.user_name),j(t.session_level),v(t.session_name),t.session_level.toLowerCase()==="partner"){const r=t.session_name.split("-")[0];S(r)}else t.session_level.toLowerCase()==="agent-manager"||t.session_level.toLowerCase()==="agent-admin"?p(t.session_name):b()}else y("/auth/login")},[]);const p=async s=>{let t=x+"inventory/summary/agent/"+s;u.get(t).then(r=>{d(r.data)}).catch(r=>{console.log(r)})},S=async s=>{let t=x+"inventory/summary/partner/"+s;u.get(t).then(r=>{d(r.data)}).catch(r=>{console.log(r)})},b=async()=>{let s=x+"inventory/summary/all";u.get(s).then(t=>{d(t.data)}).catch(t=>{console.log(t)})},[f,d]=o.useState([]),l=f,[c,z]=o.useState(0),[i,D]=o.useState(10),h=c>0?Math.max(0,(1+c)*i-l.length):0,_=()=>{let s=0;return l.forEach(async t=>{s=t.quantity+s}),s};return e.jsxs(C,{title:"Inventory Summary",description:"this is inventory summary page",children:[e.jsx(I,{title:"Inventory Summary",items:E}),e.jsx(P,{title:"Summary List",children:e.jsx(R,{children:e.jsx(B,{children:e.jsxs(L,{"aria-label":"custom pagination table",sx:{whiteSpace:"nowrap"},children:[e.jsx(U,{children:e.jsxs(m,{children:[e.jsx(n,{children:e.jsx(a,{variant:"subtitle2",children:"Seq"})}),e.jsx(n,{children:e.jsx(a,{variant:"subtitle2",children:"Partner ID"})}),e.jsx(n,{children:e.jsx(a,{variant:"subtitle2",children:"Agent ID"})}),e.jsx(n,{children:e.jsx(a,{variant:"subtitle2",children:"Sim Type"})}),e.jsx(n,{children:e.jsx(a,{variant:"subtitle2",children:"Status"})}),e.jsx(n,{children:e.jsx(a,{variant:"subtitle2",children:"Quantity"})})]})}),e.jsxs(w,{children:[(i>0?l.slice(c*i,c*i+i):l).map((s,t)=>e.jsxs(m,{children:[e.jsx(n,{children:e.jsx(a,{variant:"subtitle2",children:t+1})}),e.jsx(n,{children:e.jsx(a,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:s.cobrand_id})}),e.jsx(n,{children:e.jsx(a,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:s.agent_code})}),e.jsx(n,{children:e.jsx(a,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:s.sim_type})}),e.jsx(n,{children:e.jsx(a,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:e.jsx(A,{color:s.status==="Ready"?"success":s.status==="Open"?"warning":s.status=="Used"?"error":"secondary",sx:{borderRadius:"6px"},size:"small",label:s.status})})}),e.jsx(n,{children:e.jsx(a,{color:"textSecondary",variant:"subtitle2",fontWeight:"400",children:s.quantity})})]},t)),e.jsxs(m,{style:{height:53*h},children:[e.jsx(n,{colSpan:5,children:e.jsx(a,{variant:"subtitle2",fontSize:16,fontWeight:"600",children:"Total"})}),e.jsx(n,{children:e.jsx(a,{color:"textSecondary",variant:"subtitle2",fontWeight:"600",children:_()})})]}),h>0&&e.jsx(m,{style:{height:53*h},children:e.jsx(n,{colSpan:6})})]})]})})})})]})};export{me as default};
